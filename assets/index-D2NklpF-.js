var Yi=Object.defineProperty;var Ki=(s,t,e)=>t in s?Yi(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var O=(s,t,e)=>Ki(s,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();function at(){}const ji=s=>s;function Fr(s){return s()}function Ks(){return Object.create(null)}function Pt(s){s.forEach(Fr)}function we(s){return typeof s=="function"}function ke(s,t){return s!=s?t==t:s!==t||s&&typeof s=="object"||typeof s=="function"}function Wi(s){return Object.keys(s).length===0}function Zi(s,...t){if(s==null){for(const n of t)n(void 0);return at}const e=s.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function Mr(s,t,e){s.$$.on_destroy.push(Zi(t,e))}function Ur(s){return s&&we(s.destroy)?s.destroy:at}const $r=typeof window<"u";let Xi=$r?()=>window.performance.now():()=>Date.now(),Ss=$r?s=>requestAnimationFrame(s):at;const _e=new Set;function zr(s){_e.forEach(t=>{t.c(s)||(_e.delete(t),t.f())}),_e.size!==0&&Ss(zr)}function Ji(s){let t;return _e.size===0&&Ss(zr),{promise:new Promise(e=>{_e.add(t={c:s,f:e})}),abort(){_e.delete(t)}}}function y(s,t){s.appendChild(t)}function Br(s){if(!s)return document;const t=s.getRootNode?s.getRootNode():s.ownerDocument;return t&&t.host?t:s.ownerDocument}function Qi(s){const t=k("style");return t.textContent="/* empty */",to(Br(s),t),t.sheet}function to(s,t){return y(s.head||s,t),t.sheet}function K(s,t,e){s.insertBefore(t,e||null)}function q(s){s.parentNode&&s.parentNode.removeChild(s)}function pn(s,t){for(let e=0;e<s.length;e+=1)s[e]&&s[e].d(t)}function k(s){return document.createElement(s)}function fe(s){return document.createTextNode(s)}function G(){return fe(" ")}function We(){return fe("")}function Z(s,t,e,n){return s.addEventListener(t,e,n),()=>s.removeEventListener(t,e,n)}function D(s,t,e){e==null?s.removeAttribute(t):s.getAttribute(t)!==e&&s.setAttribute(t,e)}function eo(s){return Array.from(s.childNodes)}function Ze(s,t){t=""+t,s.data!==t&&(s.data=t)}function $t(s,t){s.value=t??""}function js(s,t,e){for(let n=0;n<s.options.length;n+=1){const r=s.options[n];if(r.__value===t){r.selected=!0;return}}(!e||t!==void 0)&&(s.selectedIndex=-1)}function no(s){const t=s.querySelector(":checked");return t&&t.__value}const mn=new Map;let Tn=0;function so(s){let t=5381,e=s.length;for(;e--;)t=(t<<5)-t^s.charCodeAt(e);return t>>>0}function ro(s,t){const e={stylesheet:Qi(t),rules:{}};return mn.set(s,e),e}function io(s,t,e,n,r,i,o,a=0){const l=16.666/n;let c=`{
`;for(let T=0;T<=1;T+=l){const b=t+(e-t)*i(T);c+=T*100+`%{${o(b,1-b)}}
`}const u=c+`100% {${o(e,1-e)}}
}`,d=`__svelte_${so(u)}_${a}`,h=Br(s),{stylesheet:g,rules:f}=mn.get(h)||ro(h,s);f[d]||(f[d]=!0,g.insertRule(`@keyframes ${d} ${u}`,g.cssRules.length));const m=s.style.animation||"";return s.style.animation=`${m?`${m}, `:""}${d} ${n}ms linear ${r}ms 1 both`,Tn+=1,d}function oo(s,t){const e=(s.style.animation||"").split(", "),n=e.filter(t?i=>i.indexOf(t)<0:i=>i.indexOf("__svelte")===-1),r=e.length-n.length;r&&(s.style.animation=n.join(", "),Tn-=r,Tn||ao())}function ao(){Ss(()=>{Tn||(mn.forEach(s=>{const{ownerNode:t}=s.stylesheet;t&&q(t)}),mn.clear())})}function Hr(s,t,e,n){if(!t)return at;const r=s.getBoundingClientRect();if(t.left===r.left&&t.right===r.right&&t.top===r.top&&t.bottom===r.bottom)return at;const{delay:i=0,duration:o=300,easing:a=ji,start:l=Xi()+i,end:c=l+o,tick:u=at,css:d}=e(s,{from:t,to:r},n);let h=!0,g=!1,f;function m(){d&&(f=io(s,0,1,o,i,a,d)),i||(g=!0)}function T(){d&&oo(s,f),h=!1}return Ji(b=>{if(!g&&b>=l&&(g=!0),g&&b>=c&&(u(1,0),T()),!h)return!1;if(g){const S=b-l,U=0+1*a(S/o);u(U,1-U)}return!0}),m(),u(0,1),T}function Vr(s){const t=getComputedStyle(s);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:e,height:n}=t,r=s.getBoundingClientRect();s.style.position="absolute",s.style.width=e,s.style.height=n,lo(s,r)}}function lo(s,t){const e=s.getBoundingClientRect();if(t.left!==e.left||t.top!==e.top){const n=getComputedStyle(s),r=n.transform==="none"?"":n.transform;s.style.transform=`${r} translate(${t.left-e.left}px, ${t.top-e.top}px)`}}let He;function Fe(s){He=s}function co(){if(!He)throw new Error("Function called outside component initialization");return He}function Gr(s){co().$$.on_mount.push(s)}const Te=[],Ws=[];let Se=[];const Zs=[],uo=Promise.resolve();let es=!1;function ho(){es||(es=!0,uo.then(qr))}function xn(s){Se.push(s)}const Wn=new Set;let ge=0;function qr(){if(ge!==0)return;const s=He;do{try{for(;ge<Te.length;){const t=Te[ge];ge++,Fe(t),fo(t.$$)}}catch(t){throw Te.length=0,ge=0,t}for(Fe(null),Te.length=0,ge=0;Ws.length;)Ws.pop()();for(let t=0;t<Se.length;t+=1){const e=Se[t];Wn.has(e)||(Wn.add(e),e())}Se.length=0}while(Te.length);for(;Zs.length;)Zs.pop()();es=!1,Wn.clear(),Fe(s)}function fo(s){if(s.fragment!==null){s.update(),Pt(s.before_update);const t=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,t),s.after_update.forEach(xn)}}function go(s){const t=[],e=[];Se.forEach(n=>s.indexOf(n)===-1?t.push(n):e.push(n)),e.forEach(n=>n()),Se=t}const dn=new Set;let ae;function Yr(){ae={r:0,c:[],p:ae}}function Kr(){ae.r||Pt(ae.c),ae=ae.p}function Ht(s,t){s&&s.i&&(dn.delete(s),s.i(t))}function ee(s,t,e,n){if(s&&s.o){if(dn.has(s))return;dn.add(s),ae.c.push(()=>{dn.delete(s),n&&(e&&s.d(1),n())}),s.o(t)}else n&&n()}function kt(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function po(s,t){s.d(1),t.delete(s.key)}function jr(s,t){s.f(),po(s,t)}function Wr(s,t,e,n,r,i,o,a,l,c,u,d){let h=s.length,g=i.length,f=h;const m={};for(;f--;)m[s[f].key]=f;const T=[],b=new Map,S=new Map,U=[];for(f=g;f--;){const z=d(r,i,f),B=e(z);let F=o.get(B);F?U.push(()=>F.p(z,t)):(F=c(B,z),F.c()),b.set(B,T[f]=F),B in m&&S.set(B,Math.abs(f-m[B]))}const C=new Set,st=new Set;function nt(z){Ht(z,1),z.m(a,u),o.set(z.key,z),u=z.first,g--}for(;h&&g;){const z=T[g-1],B=s[h-1],F=z.key,rt=B.key;z===B?(u=z.first,h--,g--):b.has(rt)?!o.has(F)||C.has(F)?nt(z):st.has(rt)?h--:S.get(F)>S.get(rt)?(st.add(F),nt(z)):(C.add(rt),h--):(l(B,o),h--)}for(;h--;){const z=s[h];b.has(z.key)||l(z,o)}for(;g;)nt(T[g-1]);return Pt(U),T}function Ln(s){s&&s.c()}function Xe(s,t,e){const{fragment:n,after_update:r}=s.$$;n&&n.m(t,e),xn(()=>{const i=s.$$.on_mount.map(Fr).filter(we);s.$$.on_destroy?s.$$.on_destroy.push(...i):Pt(i),s.$$.on_mount=[]}),r.forEach(xn)}function Je(s,t){const e=s.$$;e.fragment!==null&&(go(e.after_update),Pt(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function mo(s,t){s.$$.dirty[0]===-1&&(Te.push(s),ho(),s.$$.dirty.fill(0)),s.$$.dirty[t/31|0]|=1<<t%31}function Qe(s,t,e,n,r,i,o=null,a=[-1]){const l=He;Fe(s);const c=s.$$={fragment:null,ctx:[],props:i,update:at,not_equal:r,bound:Ks(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:Ks(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};o&&o(c.root);let u=!1;if(c.ctx=e?e(s,t.props||{},(d,h,...g)=>{const f=g.length?g[0]:h;return c.ctx&&r(c.ctx[d],c.ctx[d]=f)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](f),u&&mo(s,d)),h}):[],c.update(),u=!0,Pt(c.before_update),c.fragment=n?n(c.ctx):!1,t.target){if(t.hydrate){const d=eo(t.target);c.fragment&&c.fragment.l(d),d.forEach(q)}else c.fragment&&c.fragment.c();t.intro&&Ht(s.$$.fragment),Xe(s,t.target,t.anchor),qr()}Fe(l)}class tn{constructor(){O(this,"$$");O(this,"$$set")}$destroy(){Je(this,1),this.$destroy=at}$on(t,e){if(!we(e))return at;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const r=n.indexOf(e);r!==-1&&n.splice(r,1)}}$set(t){this.$$set&&!Wi(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const To="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(To);const pe=[];function Zr(s,t=at){let e;const n=new Set;function r(a){if(ke(s,a)&&(s=a,e)){const l=!pe.length;for(const c of n)c[1](),pe.push(c,s);if(l){for(let c=0;c<pe.length;c+=2)pe[c][0](pe[c+1]);pe.length=0}}}function i(a){r(a(s))}function o(a,l=at){const c=[a,l];return n.add(c),n.size===1&&(e=t(r,i)||at),a(s),()=>{n.delete(c),n.size===0&&e&&(e(),e=null)}}return{set:r,update:i,subscribe:o}}function Xs(s,t){var e=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(s,r).enumerable})),e.push.apply(e,n)}return e}function En(s){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Xs(Object(e),!0).forEach(function(n){Ne(s,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(e)):Xs(Object(e)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(e,n))})}return s}function Me(s){"@babel/helpers - typeof";return Me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Me(s)}function Ne(s,t,e){return t in s?Object.defineProperty(s,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):s[t]=e,s}function xo(s,t){if(s==null)return{};var e={},n=Object.keys(s),r,i;for(i=0;i<n.length;i++)r=n[i],!(t.indexOf(r)>=0)&&(e[r]=s[r]);return e}function Eo(s,t){if(s==null)return{};var e=xo(s,t),n,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(s,n)&&(e[n]=s[n])}return e}function _o(s,t){return yo(s)||vo(s,t)||ys(s,t)||No()}function Dt(s){return So(s)||Ao(s)||ys(s)||Co()}function So(s){if(Array.isArray(s))return ns(s)}function yo(s){if(Array.isArray(s))return s}function Ao(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function vo(s,t){var e=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(e!=null){var n=[],r=!0,i=!1,o,a;try{for(e=e.call(s);!(r=(o=e.next()).done)&&(n.push(o.value),!(t&&n.length===t));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&e.return!=null&&e.return()}finally{if(i)throw a}}return n}}function ys(s,t){if(s){if(typeof s=="string")return ns(s,t);var e=Object.prototype.toString.call(s).slice(8,-1);if(e==="Object"&&s.constructor&&(e=s.constructor.name),e==="Map"||e==="Set")return Array.from(s);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return ns(s,t)}}function ns(s,t){(t==null||t>s.length)&&(t=s.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=s[e];return n}function Co(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function No(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function en(s,t){var e=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!e){if(Array.isArray(s)||(e=ys(s))||t){e&&(s=e);var n=0,r=function(){};return{s:r,n:function(){return n>=s.length?{done:!0}:{done:!1,value:s[n++]}},e:function(l){throw l},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,o=!1,a;return{s:function(){e=e.call(s)},n:function(){var l=e.next();return i=l.done,l},e:function(l){o=!0,a=l},f:function(){try{!i&&e.return!=null&&e.return()}finally{if(o)throw a}}}}var Io="finalize",bo="consider";function Ie(s,t,e){s.dispatchEvent(new CustomEvent(Io,{detail:{items:t,info:e}}))}function ne(s,t,e){s.dispatchEvent(new CustomEvent(bo,{detail:{items:t,info:e}}))}var Pn="draggedEntered",nn="draggedLeft",Fn="draggedOverIndex",As="draggedLeftDocument",_n={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function Oo(s,t,e){s.dispatchEvent(new CustomEvent(Pn,{detail:{indexObj:t,draggedEl:e}}))}function wo(s,t,e){s.dispatchEvent(new CustomEvent(nn,{detail:{draggedEl:t,type:_n.LEFT_FOR_ANOTHER,theOtherDz:e}}))}function ko(s,t){s.dispatchEvent(new CustomEvent(nn,{detail:{draggedEl:t,type:_n.OUTSIDE_OF_ANY}}))}function Do(s,t,e){s.dispatchEvent(new CustomEvent(Fn,{detail:{indexObj:t,draggedEl:e}}))}function Ro(s){window.dispatchEvent(new CustomEvent(As,{detail:{draggedEl:s}}))}var _t={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:Pn,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:Fn,DRAGGED_LEFT:nn,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},At={POINTER:"pointer",KEYBOARD:"keyboard"},Mn="isDndShadowItem",vs="data-is-dnd-shadow-item-internal",Lo="data-is-dnd-shadow-item-hint",Po="id:dnd-shadow-placeholder-0000",Fo="dnd-action-dragged-el",ct="id",ss=0;function Xr(){ss++}function Jr(){if(ss===0)throw new Error("Bug! trying to decrement when there are no dropzones");ss--}var Cs=typeof window>"u";function rs(s){var t,e=s.getBoundingClientRect(),n=getComputedStyle(s),r=n.transform;if(r){var i,o,a,l;if(r.startsWith("matrix3d("))t=r.slice(9,-1).split(/, /),i=+t[0],o=+t[5],a=+t[12],l=+t[13];else if(r.startsWith("matrix("))t=r.slice(7,-1).split(/, /),i=+t[0],o=+t[3],a=+t[4],l=+t[5];else return e;var c=n.transformOrigin,u=e.x-a-(1-i)*parseFloat(c),d=e.y-l-(1-o)*parseFloat(c.slice(c.indexOf(" ")+1)),h=i?e.width/i:s.offsetWidth,g=o?e.height/o:s.offsetHeight;return{x:u,y:d,width:h,height:g,top:d,right:u+h,bottom:d+g,left:u}}else return e}function Qr(s){var t=rs(s);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function ti(s){var t=s.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function ei(s){return{x:(s.left+s.right)/2,y:(s.top+s.bottom)/2}}function Mo(s,t){return Math.sqrt(Math.pow(s.x-t.x,2)+Math.pow(s.y-t.y,2))}function Un(s,t){return s.y<=t.bottom&&s.y>=t.top&&s.x>=t.left&&s.x<=t.right}function Ve(s){return ei(ti(s))}function Js(s,t){var e=Ve(s),n=Qr(t);return Un(e,n)}function Uo(s,t){var e=Ve(s),n=Ve(t);return Mo(e,n)}function $o(s){var t=ti(s);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}var ye;function Ns(){ye=new Map}Ns();function zo(s){var t=Array.from(s.children).findIndex(function(e){return e.getAttribute(vs)});if(t>=0)return ye.has(s)||ye.set(s,new Map),ye.get(s).set(t,Qr(s.children[t])),t}function Bo(s,t){if(!Js(s,t))return null;var e=t.children;if(e.length===0)return{index:0,isProximityBased:!0};for(var n=zo(t),r=0;r<e.length;r++)if(Js(s,e[r])){var i=ye.has(t)&&ye.get(t).get(r);return i&&!Un(Ve(s),i)?{index:n,isProximityBased:!1}:{index:r,isProximityBased:!1}}for(var o=Number.MAX_VALUE,a=void 0,l=0;l<e.length;l++){var c=Uo(s,e[l]);c<o&&(o=c,a=l)}return{index:a,isProximityBased:!0}}function an(s){return JSON.stringify(s,null,2)}function Sn(s){if(!s)throw new Error("cannot get depth of a falsy node");return ni(s,0)}function ni(s){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return s.parentElement?ni(s.parentElement,t+1):t-1}function Ho(s,t){if(Object.keys(s).length!==Object.keys(t).length)return!1;for(var e in s)if(!{}.hasOwnProperty.call(t,e)||t[e]!==s[e])return!1;return!0}function Vo(s,t){if(s.length!==t.length)return!1;for(var e=0;e<s.length;e++)if(s[e]!==t[e])return!1;return!0}var Go=200,Qs=10,is;function qo(s,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Go,n=arguments.length>3?arguments[3]:void 0,r,i,o=!1,a,l=Array.from(t).sort(function(u,d){return Sn(d)-Sn(u)});function c(){var u=Ve(s),d=n.multiScrollIfNeeded();if(!d&&a&&Math.abs(a.x-u.x)<Qs&&Math.abs(a.y-u.y)<Qs){is=window.setTimeout(c,e);return}if($o(s)){Ro(s);return}a=u;var h=!1,g=en(l),f;try{for(g.s();!(f=g.n()).done;){var m=f.value;d&&Ns();var T=Bo(s,m);if(T!==null){var b=T.index;h=!0,m!==r?(r&&wo(r,s,m),Oo(m,T,s),r=m):b!==i&&(Do(m,T,s),i=b);break}}}catch(S){g.e(S)}finally{g.f()}!h&&o&&r?(ko(r,s),r=void 0,i=void 0,o=!1):o=!0,is=window.setTimeout(c,e)}c()}function Yo(){clearTimeout(is),Ns()}var Le=30;function Ko(){var s;function t(){s={directionObj:void 0,stepPx:0}}t();function e(i){var o=s,a=o.directionObj,l=o.stepPx;a&&(i.scrollBy(a.x*l,a.y*l),window.requestAnimationFrame(function(){return e(i)}))}function n(i){return Le-i}function r(i,o){if(!o)return!1;var a=jo(i,o),l=!!s.directionObj;if(a===null)return l&&t(),!1;var c=!1,u=!1;return o.scrollHeight>o.clientHeight&&(a.bottom<Le?(c=!0,s.directionObj={x:0,y:1},s.stepPx=n(a.bottom)):a.top<Le&&(c=!0,s.directionObj={x:0,y:-1},s.stepPx=n(a.top)),!l&&c)||o.scrollWidth>o.clientWidth&&(a.right<Le?(u=!0,s.directionObj={x:1,y:0},s.stepPx=n(a.right)):a.left<Le&&(u=!0,s.directionObj={x:-1,y:0},s.stepPx=n(a.left)),!l&&u)?(e(o),!0):(t(),!1)}return{scrollIfNeeded:r,resetScrolling:t}}function jo(s,t){var e=t===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:t.getBoundingClientRect();return Un(s,e)?{top:s.y-e.top,bottom:e.bottom-s.y,left:s.x-e.left,right:e.right-s.x}:null}function Wo(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,e=Xo(s),n=Array.from(e).sort(function(l,c){return Sn(c)-Sn(l)}),r=Ko(),i=r.scrollIfNeeded,o=r.resetScrolling;function a(){var l=t();if(!l||!n)return!1;for(var c=n.filter(function(h){return Un(l,h.getBoundingClientRect())||h===document.scrollingElement}),u=0;u<c.length;u++){var d=i(l,c[u]);if(d)return!0}return!1}return{multiScrollIfNeeded:e.size>0?a:function(){return!1},destroy:function(){return o()}}}function Zo(s){if(!s)return[];for(var t=[],e=s;e;){var n=window.getComputedStyle(e),r=n.overflow;r.split(" ").some(function(i){return i.includes("auto")||i.includes("scroll")})&&t.push(e),e=e.parentElement}return t}function Xo(s){var t=new Set,e=en(s),n;try{for(e.s();!(n=e.n()).done;){var r=n.value;Zo(r).forEach(function(i){return t.add(i)})}}catch(i){e.e(i)}finally{e.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&t.add(document.scrollingElement),t}function Jo(s){var t=s.cloneNode(!0),e=[],n=s.tagName==="SELECT",r=n?[s]:Dt(s.querySelectorAll("select")),i=en(r),o;try{for(i.s();!(o=i.n()).done;){var a=o.value;e.push(a.value)}}catch(U){i.e(U)}finally{i.f()}if(r.length>0)for(var l=n?[t]:Dt(t.querySelectorAll("select")),c=0;c<l.length;c++){var u=l[c],d=e[c],h=u.querySelector('option[value="'.concat(d,'"'));h&&h.setAttribute("selected",!0)}var g=s.tagName==="CANVAS",f=g?[s]:Dt(s.querySelectorAll("canvas"));if(f.length>0)for(var m=g?[t]:Dt(t.querySelectorAll("canvas")),T=0;T<m.length;T++){var b=f[T],S=m[T];S.width=b.width,S.height=b.height,b.width>0&&b.height>0&&S.getContext("2d").drawImage(b,0,0)}return t}var Ge=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),Qo=Ne({},Ge.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function si(s){if(!Ge[s])throw new Error("Can't get non existing feature flag ".concat(s,"! Supported flags: ").concat(Object.keys(Ge)));return Qo[s]}var ta=.2;function se(s){return"".concat(s," ").concat(ta,"s ease")}function ea(s,t){var e=s.getBoundingClientRect(),n=Jo(s);ri(s,n),n.id=Fo,n.style.position="fixed";var r=e.top,i=e.left;if(n.style.top="".concat(r,"px"),n.style.left="".concat(i,"px"),t){var o=ei(e);r-=o.y-t.y,i-=o.x-t.x,window.setTimeout(function(){n.style.top="".concat(r,"px"),n.style.left="".concat(i,"px")},0)}return n.style.margin="0",n.style.boxSizing="border-box",n.style.height="".concat(e.height,"px"),n.style.width="".concat(e.width,"px"),n.style.transition="".concat(se("top"),", ").concat(se("left"),", ").concat(se("background-color"),", ").concat(se("opacity"),", ").concat(se("color")," "),window.setTimeout(function(){return n.style.transition+=", ".concat(se("width"),", ").concat(se("height"))},0),n.style.zIndex="9999",n.style.cursor="grabbing",n}function na(s){s.style.cursor="grab"}function sa(s,t,e,n){ri(t,s);var r=t.getBoundingClientRect(),i=s.getBoundingClientRect(),o=r.width-i.width,a=r.height-i.height;if(o||a){var l={left:(e-i.left)/i.width,top:(n-i.top)/i.height};si(Ge.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(s.style.height="".concat(r.height,"px"),s.style.width="".concat(r.width,"px")),s.style.left="".concat(parseFloat(s.style.left)-l.left*o,"px"),s.style.top="".concat(parseFloat(s.style.top)-l.top*a,"px")}}function ri(s,t){var e=window.getComputedStyle(s);Array.from(e).filter(function(n){return n.startsWith("background")||n.startsWith("padding")||n.startsWith("font")||n.startsWith("text")||n.startsWith("align")||n.startsWith("justify")||n.startsWith("display")||n.startsWith("flex")||n.startsWith("border")||n==="opacity"||n==="color"||n==="list-style-type"||si(Ge.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(n==="width"||n==="height")}).forEach(function(n){return t.style.setProperty(n,e.getPropertyValue(n),e.getPropertyPriority(n))})}function ra(s,t){s.draggable=!1,s.ondragstart=function(){return!1},t?(s.style.userSelect="",s.style.WebkitUserSelect="",s.style.cursor=""):(s.style.userSelect="none",s.style.WebkitUserSelect="none",s.style.cursor="grab")}function ii(s){s.style.display="none",s.style.position="fixed",s.style.zIndex="-5"}function ia(s){s.style.visibility="hidden",s.setAttribute(vs,"true")}function oa(s){s.style.visibility="",s.removeAttribute(vs)}function fn(s){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};s.forEach(function(n){var r=t(n);Object.keys(r).forEach(function(i){n.style[i]=r[i]}),e(n).forEach(function(i){return n.classList.add(i)})})}function yn(s){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};s.forEach(function(n){var r=t(n);Object.keys(r).forEach(function(i){n.style[i]=""}),e(n).forEach(function(i){return n.classList.contains(i)&&n.classList.remove(i)})})}function aa(s){var t=s.style.minHeight;s.style.minHeight=window.getComputedStyle(s).getPropertyValue("height");var e=s.style.minWidth;return s.style.minWidth=window.getComputedStyle(s).getPropertyValue("width"),function(){s.style.minHeight=t,s.style.minWidth=e}}var la="--any--",ca=100,ua=20,tr=3,er={outline:"rgba(255, 255, 102, 0.7) solid 2px"},nr="data-is-dnd-original-dragged-item",Mt,dt,yt,$n,J,zn,te,gt,Jt,It,oe=!1,Is=!1,bs,sn=!1,gn=[],An,Lt=new Map,ot=new Map,Zn=new WeakMap;function ha(s,t){Lt.has(t)||Lt.set(t,new Set),Lt.get(t).has(s)||(Lt.get(t).add(s),Xr())}function sr(s,t){Lt.get(t).delete(s),Jr(),Lt.get(t).size===0&&Lt.delete(t)}function da(){var s=Lt.get($n),t=en(s),e;try{for(t.s();!(e=t.n()).done;){var n=e.value;n.addEventListener(Pn,oi),n.addEventListener(nn,ai),n.addEventListener(Fn,li)}}catch(o){t.e(o)}finally{t.f()}window.addEventListener(As,be);var r=Math.max.apply(Math,Dt(Array.from(s.keys()).map(function(o){return ot.get(o).dropAnimationDurationMs}))),i=r===0?ua:Math.max(r,ca);An=Wo(s,function(){return It}),qo(dt,s,i*1.07,An)}function fa(){var s=Lt.get($n),t=en(s),e;try{for(t.s();!(e=t.n()).done;){var n=e.value;n.removeEventListener(Pn,oi),n.removeEventListener(nn,ai),n.removeEventListener(Fn,li)}}catch(r){t.e(r)}finally{t.f()}window.removeEventListener(As,be),An.destroy(),An=void 0,Yo()}function Bn(s){return s.findIndex(function(t){return!!t[Mn]})}function ga(s){var t;return En(En({},s),{},(t={},Ne(t,Mn,!0),Ne(t,ct,Po),t))}function oi(s){var t=ot.get(s.currentTarget),e=t.items,n=t.dropFromOthersDisabled;if(!(n&&s.currentTarget!==J)){if(sn=!1,e=e.filter(function(u){return u[ct]!==te[ct]}),J!==s.currentTarget){var r=ot.get(J).items,i=r.filter(function(u){return!u[Mn]});ne(J,i,{trigger:_t.DRAGGED_ENTERED_ANOTHER,id:yt[ct],source:At.POINTER})}var o=s.detail.indexObj,a=o.index,l=o.isProximityBased,c=l&&a===s.currentTarget.children.length-1?a+1:a;gt=s.currentTarget,e.splice(c,0,te),ne(s.currentTarget,e,{trigger:_t.DRAGGED_ENTERED,id:yt[ct],source:At.POINTER})}}function ai(s){if(oe){var t=ot.get(s.currentTarget),e=t.items,n=t.dropFromOthersDisabled;if(!(n&&s.currentTarget!==J&&s.currentTarget!==gt)){var r=Dt(e),i=Bn(r);i!==-1&&r.splice(i,1);var o=gt;gt=void 0;var a=s.detail,l=a.type,c=a.theOtherDz;if(l===_n.OUTSIDE_OF_ANY||l===_n.LEFT_FOR_ANOTHER&&c!==J&&ot.get(c).dropFromOthersDisabled){sn=!0,gt=J;var u=o===J?r:Dt(ot.get(J).items);u.splice(zn,0,te),ne(J,u,{trigger:_t.DRAGGED_LEFT_ALL,id:yt[ct],source:At.POINTER})}ne(s.currentTarget,r,{trigger:_t.DRAGGED_LEFT,id:yt[ct],source:At.POINTER})}}}function li(s){var t=ot.get(s.currentTarget),e=t.items,n=t.dropFromOthersDisabled;if(!(n&&s.currentTarget!==J)){var r=Dt(e);sn=!1;var i=s.detail.indexObj.index,o=Bn(r);o!==-1&&r.splice(o,1),r.splice(i,0,te),ne(s.currentTarget,r,{trigger:_t.DRAGGED_OVER_INDEX,id:yt[ct],source:At.POINTER})}}function vn(s){s.preventDefault();var t=s.touches?s.touches[0]:s;It={x:t.clientX,y:t.clientY},dt.style.transform="translate3d(".concat(It.x-Jt.x,"px, ").concat(It.y-Jt.y,"px, 0)")}function be(){Is=!0,window.removeEventListener("mousemove",vn),window.removeEventListener("touchmove",vn),window.removeEventListener("mouseup",be),window.removeEventListener("touchend",be),fa(),na(dt),gt||(gt=J);var s=ot.get(gt),t=s.items,e=s.type;yn(Lt.get(e),function(i){return ot.get(i).dropTargetStyle},function(i){return ot.get(i).dropTargetClasses});var n=Bn(t);n===-1&&gt===J&&(n=zn),t=t.map(function(i){return i[Mn]?yt:i});function r(){bs(),Ie(gt,t,{trigger:sn?_t.DROPPED_OUTSIDE_OF_ANY:_t.DROPPED_INTO_ZONE,id:yt[ct],source:At.POINTER}),gt!==J&&Ie(J,ot.get(J).items,{trigger:_t.DROPPED_INTO_ANOTHER,id:yt[ct],source:At.POINTER}),n!==-1&&oa(gt.children[n]),Ta()}pa(n,r)}function pa(s,t){var e=s>-1?rs(gt.children[s]):rs(gt),n={x:e.left-parseFloat(dt.style.left),y:e.top-parseFloat(dt.style.top)},r=ot.get(gt),i=r.dropAnimationDurationMs,o="transform ".concat(i,"ms ease");dt.style.transition=dt.style.transition?dt.style.transition+","+o:o,dt.style.transform="translate3d(".concat(n.x,"px, ").concat(n.y,"px, 0)"),window.setTimeout(t,i)}function ma(s,t){gn.push({dz:s,destroy:t}),window.requestAnimationFrame(function(){ii(s),document.body.appendChild(s)})}function Ta(){dt.remove(),Mt.remove(),gn.length&&(gn.forEach(function(s){var t=s.dz,e=s.destroy;e(),t.remove()}),gn=[]),dt=void 0,Mt=void 0,yt=void 0,$n=void 0,J=void 0,zn=void 0,te=void 0,gt=void 0,Jt=void 0,It=void 0,oe=!1,Is=!1,bs=void 0,sn=!1}function xa(s,t){var e=!1,n={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:er,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1},r=new Map;function i(){window.addEventListener("mousemove",l,{passive:!1}),window.addEventListener("touchmove",l,{passive:!1,capture:!1}),window.addEventListener("mouseup",a,{passive:!1}),window.addEventListener("touchend",a,{passive:!1})}function o(){window.removeEventListener("mousemove",l),window.removeEventListener("touchmove",l),window.removeEventListener("mouseup",a),window.removeEventListener("touchend",a)}function a(h){o(),Mt=void 0,Jt=void 0,It=void 0,h.type==="touchend"&&h.target.click()}function l(h){h.preventDefault();var g=h.touches?h.touches[0]:h;It={x:g.clientX,y:g.clientY},(Math.abs(It.x-Jt.x)>=tr||Math.abs(It.y-Jt.y)>=tr)&&(o(),u())}function c(h){if(!(h.target!==h.currentTarget&&(h.target.value!==void 0||h.target.isContentEditable))&&!h.button&&!oe){h.preventDefault(),h.stopPropagation();var g=h.touches?h.touches[0]:h;Jt={x:g.clientX,y:g.clientY},It=En({},Jt),Mt=h.currentTarget,i()}}function u(){oe=!0;var h=r.get(Mt);zn=h,J=Mt.parentElement;var g=J.closest("dialog")||J.getRootNode(),f=g.body||g,m=n.items,T=n.type,b=n.centreDraggedOnCursor,S=Dt(m);yt=S[h],$n=T,te=ga(yt),dt=ea(Mt,b&&It),Mt.setAttribute(nr,!0);function U(){dt.parentElement?window.requestAnimationFrame(U):(f.appendChild(dt),dt.focus(),da(),ii(Mt),f.appendChild(Mt),te[ct]=yt[ct])}window.requestAnimationFrame(U),fn(Array.from(Lt.get(n.type)).filter(function(C){return C===J||!ot.get(C).dropFromOthersDisabled}),function(C){return ot.get(C).dropTargetStyle},function(C){return ot.get(C).dropTargetClasses}),S.splice(h,1,te),bs=aa(J),ne(J,S,{trigger:_t.DRAG_STARTED,id:yt[ct],source:At.POINTER}),window.addEventListener("mousemove",vn,{passive:!1}),window.addEventListener("touchmove",vn,{passive:!1,capture:!1}),window.addEventListener("mouseup",be,{passive:!1}),window.addEventListener("touchend",be,{passive:!1})}function d(h){var g=h.items,f=g===void 0?void 0:g,m=h.flipDurationMs,T=m===void 0?0:m,b=h.type,S=b===void 0?la:b,U=h.dragDisabled,C=U===void 0?!1:U,st=h.morphDisabled,nt=st===void 0?!1:st,z=h.dropFromOthersDisabled,B=z===void 0?!1:z,F=h.dropTargetStyle,rt=F===void 0?er:F,H=h.dropTargetClasses,ut=H===void 0?[]:H,Ct=h.transformDraggedElement,A=Ct===void 0?function(){}:Ct,V=h.centreDraggedOnCursor,E=V===void 0?!1:V;n.dropAnimationDurationMs=T,n.type&&S!==n.type&&sr(s,n.type),n.type=S,n.items=Dt(f),n.dragDisabled=C,n.morphDisabled=nt,n.transformDraggedElement=A,n.centreDraggedOnCursor=E,e&&oe&&!Is&&(!Ho(rt,n.dropTargetStyle)||!Vo(ut,n.dropTargetClasses))&&(yn([s],function(){return n.dropTargetStyle},function(){return ut}),fn([s],function(){return rt},function(){return ut})),n.dropTargetStyle=rt,n.dropTargetClasses=Dt(ut);function R(Nt,N){return ot.get(Nt)?ot.get(Nt)[N]:n[N]}e&&oe&&n.dropFromOthersDisabled!==B&&(B?yn([s],function(Nt){return R(Nt,"dropTargetStyle")},function(Nt){return R(Nt,"dropTargetClasses")}):fn([s],function(Nt){return R(Nt,"dropTargetStyle")},function(Nt){return R(Nt,"dropTargetClasses")})),n.dropFromOthersDisabled=B,ot.set(s,n),ha(s,S);for(var Xt=Bn(n.items),tt=0;tt<s.children.length;tt++){var ft=s.children[tt];if(ra(ft,C),tt===Xt){nt||sa(dt,ft,It.x,It.y),n.transformDraggedElement(dt,yt,tt),ia(ft);continue}ft.removeEventListener("mousedown",Zn.get(ft)),ft.removeEventListener("touchstart",Zn.get(ft)),C||(ft.addEventListener("mousedown",c),ft.addEventListener("touchstart",c),Zn.set(ft,c)),r.set(ft,tt),e||(e=!0)}}return d(t),{update:function(g){d(g)},destroy:function(){function g(){sr(s,ot.get(s).type),ot.delete(s)}oe&&!s.closest("[".concat(nr,"]"))?ma(s,g):g()}}}var ln,os={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},ci=(ln={},Ne(ln,os.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),Ne(ln,os.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),ln),Ea="dnd-action-aria-alert",it;function as(){it||(it=document.createElement("div"),function(){it.id=Ea,it.style.position="fixed",it.style.bottom="0",it.style.left="0",it.style.zIndex="-5",it.style.opacity="0",it.style.height="0",it.style.width="0",it.setAttribute("role","alert")}(),document.body.prepend(it),Object.entries(ci).forEach(function(s){var t=_o(s,2),e=t[0],n=t[1];return document.body.prepend(ya(e,n))}))}function _a(){return Cs?null:(document.readyState==="complete"?as():window.addEventListener("DOMContentLoaded",as),En({},os))}function Sa(){Cs||!it||(Object.keys(ci).forEach(function(s){var t;return(t=document.getElementById(s))===null||t===void 0?void 0:t.remove()}),it.remove(),it=void 0)}function ya(s,t){var e=document.createElement("div");return e.id=s,e.innerHTML="<p>".concat(t,"</p>"),e.style.display="none",e.style.position="fixed",e.style.zIndex="-5",e}function Ae(s){if(!Cs){it||as(),it.innerHTML="";var t=document.createTextNode(s);it.appendChild(t),it.style.display="none",it.style.display="inline"}}var Aa="--any--",rr={outline:"rgba(255, 255, 102, 0.7) solid 2px"},wt=!1,ls,pt,ce="",re,zt,Qt="",Cn=new WeakSet,ir=new WeakMap,or=new WeakMap,cs=new Map,ht=new Map,Rt=new Map,Nn;function va(s,t){Rt.size===0&&(Nn=_a(),window.addEventListener("keydown",ui),window.addEventListener("click",hi)),Rt.has(t)||Rt.set(t,new Set),Rt.get(t).has(s)||(Rt.get(t).add(s),Xr())}function ar(s,t){pt===s&&qe(),Rt.get(t).delete(s),Jr(),Rt.get(t).size===0&&Rt.delete(t),Rt.size===0&&(window.removeEventListener("keydown",ui),window.removeEventListener("click",hi),Nn=void 0,Sa())}function ui(s){if(wt)switch(s.key){case"Escape":{qe();break}}}function hi(){wt&&(Cn.has(document.activeElement)||qe())}function Ca(s){if(wt){var t=s.currentTarget;if(t!==pt){ce=t.getAttribute("aria-label")||"";var e=ht.get(pt),n=e.items,r=n.find(function(d){return d[ct]===zt}),i=n.indexOf(r),o=n.splice(i,1)[0],a=ht.get(t),l=a.items,c=a.autoAriaDisabled;t.getBoundingClientRect().top<pt.getBoundingClientRect().top||t.getBoundingClientRect().left<pt.getBoundingClientRect().left?(l.push(o),c||Ae("Moved item ".concat(Qt," to the end of the list ").concat(ce))):(l.unshift(o),c||Ae("Moved item ".concat(Qt," to the beginning of the list ").concat(ce)));var u=pt;Ie(u,n,{trigger:_t.DROPPED_INTO_ANOTHER,id:zt,source:At.KEYBOARD}),Ie(t,l,{trigger:_t.DROPPED_INTO_ZONE,id:zt,source:At.KEYBOARD}),pt=t}}}function di(){cs.forEach(function(s,t){var e=s.update;return e(ht.get(t))})}function qe(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;ht.get(pt).autoAriaDisabled||Ae("Stopped dragging item ".concat(Qt)),Cn.has(document.activeElement)&&document.activeElement.blur(),s&&ne(pt,ht.get(pt).items,{trigger:_t.DRAG_STOPPED,id:zt,source:At.KEYBOARD}),yn(Rt.get(ls),function(t){return ht.get(t).dropTargetStyle},function(t){return ht.get(t).dropTargetClasses}),re=null,zt=null,Qt="",ls=null,pt=null,ce="",wt=!1,di()}function Na(s,t){var e={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:rr,dropTargetClasses:[],autoAriaDisabled:!1};function n(u,d,h){u.length<=1||u.splice(h,1,u.splice(d,1,u[h])[0])}function r(u){switch(u.key){case"Enter":case" ":{if((u.target.disabled!==void 0||u.target.href||u.target.isContentEditable)&&!Cn.has(u.target))return;u.preventDefault(),u.stopPropagation(),wt?qe():i(u);break}case"ArrowDown":case"ArrowRight":{if(!wt)return;u.preventDefault(),u.stopPropagation();var d=ht.get(s),h=d.items,g=Array.from(s.children),f=g.indexOf(u.currentTarget);f<g.length-1&&(e.autoAriaDisabled||Ae("Moved item ".concat(Qt," to position ").concat(f+2," in the list ").concat(ce)),n(h,f,f+1),Ie(s,h,{trigger:_t.DROPPED_INTO_ZONE,id:zt,source:At.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!wt)return;u.preventDefault(),u.stopPropagation();var m=ht.get(s),T=m.items,b=Array.from(s.children),S=b.indexOf(u.currentTarget);S>0&&(e.autoAriaDisabled||Ae("Moved item ".concat(Qt," to position ").concat(S," in the list ").concat(ce)),n(T,S,S-1),Ie(s,T,{trigger:_t.DROPPED_INTO_ZONE,id:zt,source:At.KEYBOARD}));break}}}function i(u){a(u.currentTarget),pt=s,ls=e.type,wt=!0;var d=Array.from(Rt.get(e.type)).filter(function(g){return g===pt||!ht.get(g).dropFromOthersDisabled});if(fn(d,function(g){return ht.get(g).dropTargetStyle},function(g){return ht.get(g).dropTargetClasses}),!e.autoAriaDisabled){var h="Started dragging item ".concat(Qt,". Use the arrow keys to move it within its list ").concat(ce);d.length>1&&(h+=", or tab to another list in order to move the item into it"),Ae(h)}ne(s,ht.get(s).items,{trigger:_t.DRAG_STARTED,id:zt,source:At.KEYBOARD}),di()}function o(u){wt&&u.currentTarget!==re&&(u.stopPropagation(),qe(!1),i(u))}function a(u){var d=ht.get(s),h=d.items,g=Array.from(s.children),f=g.indexOf(u);re=u,re.tabIndex=e.zoneItemTabIndex,zt=h[f][ct],Qt=g[f].getAttribute("aria-label")||""}function l(u){var d=u.items,h=d===void 0?[]:d,g=u.type,f=g===void 0?Aa:g,m=u.dragDisabled,T=m===void 0?!1:m,b=u.zoneTabIndex,S=b===void 0?0:b,U=u.zoneItemTabIndex,C=U===void 0?0:U,st=u.dropFromOthersDisabled,nt=st===void 0?!1:st,z=u.dropTargetStyle,B=z===void 0?rr:z,F=u.dropTargetClasses,rt=F===void 0?[]:F,H=u.autoAriaDisabled,ut=H===void 0?!1:H;e.items=Dt(h),e.dragDisabled=T,e.dropFromOthersDisabled=nt,e.zoneTabIndex=S,e.zoneItemTabIndex=C,e.dropTargetStyle=B,e.dropTargetClasses=rt,e.autoAriaDisabled=ut,e.type&&f!==e.type&&ar(s,e.type),e.type=f,va(s,f),ut||(s.setAttribute("aria-disabled",T),s.setAttribute("role","list"),s.setAttribute("aria-describedby",T?Nn.DND_ZONE_DRAG_DISABLED:Nn.DND_ZONE_ACTIVE)),ht.set(s,e),wt?s.tabIndex=s===pt||re.contains(s)||e.dropFromOthersDisabled||pt&&e.type!==ht.get(pt).type?-1:0:s.tabIndex=e.zoneTabIndex,s.addEventListener("focus",Ca);for(var Ct=function(E){var R=s.children[E];Cn.add(R),R.tabIndex=wt?-1:e.zoneItemTabIndex,ut||R.setAttribute("role","listitem"),R.removeEventListener("keydown",ir.get(R)),R.removeEventListener("click",or.get(R)),T||(R.addEventListener("keydown",r),ir.set(R,r),R.addEventListener("click",o),or.set(R,o)),wt&&e.items[E][ct]===zt&&(re=R,re.tabIndex=e.zoneItemTabIndex,R.focus())},A=0;A<s.children.length;A++)Ct(A)}l(t);var c={update:function(d){l(d)},destroy:function(){ar(s,e.type),ht.delete(s),cs.delete(s)}};return cs.set(s,c),c}var Ia=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor"];function fi(s,t){if(ba(s))return{update:function(){},destroy:function(){}};lr(t);var e=xa(s,t),n=Na(s,t);return{update:function(i){lr(i),e.update(i),n.update(i)},destroy:function(){e.destroy(),n.destroy()}}}function ba(s){return!!s.closest("[".concat(Lo,'="true"]'))}function lr(s){var t=s.items;s.flipDurationMs,s.type,s.dragDisabled,s.morphDisabled,s.dropFromOthersDisabled;var e=s.zoneTabIndex,n=s.zoneItemTabIndex;s.dropTargetStyle;var r=s.dropTargetClasses;s.transformDraggedElement,s.autoAriaDisabled,s.centreDraggedOnCursor;var i=Eo(s,Ia);if(Object.keys(i).length>0&&console.warn("dndzone will ignore unknown options",i),!t)throw new Error("no 'items' key provided to dndzone");var o=t.find(function(a){return!{}.hasOwnProperty.call(a,ct)});if(o)throw new Error("missing '".concat(ct,"' property for item ").concat(an(o)));if(r&&!Array.isArray(r))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(Me(r),", ").concat(an(r)));if(e&&!cr(e))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(Me(e),", ").concat(an(e)));if(n&&!cr(n))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(Me(n),", ").concat(an(n)))}function cr(s){return!isNaN(s)&&function(t){return(t|0)===t}(parseFloat(s))}function Oa(s){const t=s-1;return t*t*t+1}function gi(s,{from:t,to:e},n={}){const r=getComputedStyle(s),i=r.transform==="none"?"":r.transform,[o,a]=r.transformOrigin.split(" ").map(parseFloat),l=t.left+t.width*o/e.width-(e.left+o),c=t.top+t.height*a/e.height-(e.top+a),{delay:u=0,duration:d=g=>Math.sqrt(g)*120,easing:h=Oa}=n;return{delay:u,duration:we(d)?d(Math.sqrt(l*l+c*c)):d,easing:h,css:(g,f)=>{const m=f*l,T=f*c,b=g+f*t.width/e.width,S=g+f*t.height/e.height;return`transform: ${i} translate(${m}px, ${T}px) scale(${b}, ${S});`}}}var wa={763:()=>{}},ur={};function le(s){var t=ur[s];if(t!==void 0)return t.exports;var e=ur[s]={exports:{}};return wa[s](e,e.exports,le),e.exports}le.d=(s,t)=>{for(var e in t)le.o(t,e)&&!le.o(s,e)&&Object.defineProperty(s,e,{enumerable:!0,get:t[e]})},le.o=(s,t)=>Object.prototype.hasOwnProperty.call(s,t);var P={};le.d(P,{MG:()=>Y,fr:()=>Us,sR:()=>Di,Zo:()=>ue,iH:()=>Ri,rt:()=>Kt,jB:()=>Pi,M8:()=>Oi,$t:()=>Yn,aq:()=>ki,pG:()=>on,eP:()=>Hs,KU:()=>Ce,zW:()=>Gs,IX:()=>L,mY:()=>vt,a7:()=>de,JG:()=>W,ay:()=>j,X2:()=>qn,WU:()=>Bs,Uw:()=>wi,gw:()=>On,iX:()=>qs,re:()=>Ni,Pg:()=>Ys,tD:()=>Ii,R$:()=>lt,Dj:()=>Zt,m7:()=>he,NZ:()=>Ye,xo:()=>Vt,ou:()=>p,qC:()=>wn,mD:()=>Yt,Ay:()=>nl});class p{constructor(){this.source=null,this.type=null,this.channel=null,this.start=null,this.stop=null,this.tokenIndex=null,this.line=null,this.column=null,this._text=null}getTokenSource(){return this.source[0]}getInputStream(){return this.source[1]}get text(){return this._text}set text(t){this._text=t}}function Oe(s,t){if(!Array.isArray(s)||!Array.isArray(t))return!1;if(s===t)return!0;if(s.length!==t.length)return!1;for(let e=0;e<s.length;e++)if(!(s[e]===t[e]||s[e].equals&&s[e].equals(t[e])))return!1;return!0}p.INVALID_TYPE=0,p.EPSILON=-2,p.MIN_USER_TOKEN_TYPE=1,p.EOF=-1,p.DEFAULT_CHANNEL=0,p.HIDDEN_CHANNEL=1;const ka=Math.round(Math.random()*Math.pow(2,32));function pi(s){if(!s)return 0;const t=typeof s,e=t==="string"?s:!(t!=="object"||!s.toString)&&s.toString();if(!e)return 0;let n,r;const i=3&e.length,o=e.length-i;let a=ka;const l=3432918353,c=461845907;let u=0;for(;u<o;)r=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,r=(65535&r)*l+(((r>>>16)*l&65535)<<16)&4294967295,r=r<<15|r>>>17,r=(65535&r)*c+(((r>>>16)*c&65535)<<16)&4294967295,a^=r,a=a<<13|a>>>19,n=5*(65535&a)+((5*(a>>>16)&65535)<<16)&4294967295,a=27492+(65535&n)+((58964+(n>>>16)&65535)<<16);switch(r=0,i){case 3:r^=(255&e.charCodeAt(u+2))<<16;case 2:r^=(255&e.charCodeAt(u+1))<<8;case 1:r^=255&e.charCodeAt(u),r=(65535&r)*l+(((r>>>16)*l&65535)<<16)&4294967295,r=r<<15|r>>>17,r=(65535&r)*c+(((r>>>16)*c&65535)<<16)&4294967295,a^=r}return a^=e.length,a^=a>>>16,a=2246822507*(65535&a)+((2246822507*(a>>>16)&65535)<<16)&4294967295,a^=a>>>13,a=3266489909*(65535&a)+((3266489909*(a>>>16)&65535)<<16)&4294967295,a^=a>>>16,a>>>0}class Ot{constructor(){this.count=0,this.hash=0}update(){for(let t=0;t<arguments.length;t++){const e=arguments[t];if(e!=null)if(Array.isArray(e))this.update.apply(this,e);else{let n=0;switch(typeof e){case"undefined":case"function":continue;case"number":case"boolean":n=e;break;case"string":n=pi(e);break;default:e.updateHashCode?e.updateHashCode(this):console.log("No updateHashCode for "+e.toString());continue}n*=3432918353,n=n<<15|n>>>17,n*=461845907,this.count=this.count+1;let r=this.hash^n;r=r<<13|r>>>19,r=5*r+3864292196,this.hash=r}}}finish(){let t=this.hash^4*this.count;return t^=t>>>16,t*=2246822507,t^=t>>>13,t*=3266489909,t^=t>>>16,t}static hashStuff(){const t=new Ot;return t.update.apply(t,arguments),t.finish()}}function mi(s){return s?typeof s=="string"?pi(s):s.hashCode():-1}function Ti(s,t){return s&&s.equals?s.equals(t):s===t}function Da(s){return s===null?"null":s}function Yt(s){return Array.isArray(s)?"["+s.map(Da).join(", ")+"]":"null"}class bt{constructor(t,e){this.buckets=new Array(16),this.threshold=Math.floor(12),this.itemCount=0,this.hashFunction=t||mi,this.equalsFunction=e||Ti}get(t){if(t==null)return t;const e=this._getBucket(t);if(!e)return null;for(const n of e)if(this.equalsFunction(n,t))return n;return null}add(t){return this.getOrAdd(t)===t}getOrAdd(t){this._expand();const e=this._getSlot(t);let n=this.buckets[e];if(!n)return n=[t],this.buckets[e]=n,this.itemCount++,t;for(const r of n)if(this.equalsFunction(r,t))return r;return n.push(t),this.itemCount++,t}has(t){return this.get(t)!=null}values(){return this.buckets.filter(t=>t!=null).flat(1)}toString(){return Yt(this.values())}get length(){return this.itemCount}_getSlot(t){return this.hashFunction(t)&this.buckets.length-1}_getBucket(t){return this.buckets[this._getSlot(t)]}_expand(){if(this.itemCount<=this.threshold)return;const t=this.buckets,e=2*this.buckets.length;this.buckets=new Array(e),this.threshold=Math.floor(.75*e);for(const n of t)if(n)for(const r of n){const i=this._getSlot(r);let o=this.buckets[i];o||(o=[],this.buckets[i]=o),o.push(r)}}}class ${hashCode(){const t=new Ot;return this.updateHashCode(t),t.finish()}evaluate(t,e){}evalPrecedence(t,e){return this}static andContext(t,e){if(t===null||t===$.NONE)return e;if(e===null||e===$.NONE)return t;const n=new Ue(t,e);return n.opnds.length===1?n.opnds[0]:n}static orContext(t,e){if(t===null)return e;if(e===null)return t;if(t===$.NONE||e===$.NONE)return $.NONE;const n=new $e(t,e);return n.opnds.length===1?n.opnds[0]:n}}class Ue extends ${constructor(t,e){super();const n=new bt;t instanceof Ue?t.opnds.map(function(i){n.add(i)}):n.add(t),e instanceof Ue?e.opnds.map(function(i){n.add(i)}):n.add(e);const r=xi(n);if(r.length>0){let i=null;r.map(function(o){(i===null||o.precedence<i.precedence)&&(i=o)}),n.add(i)}this.opnds=Array.from(n.values())}equals(t){return this===t||t instanceof Ue&&Oe(this.opnds,t.opnds)}updateHashCode(t){t.update(this.opnds,"AND")}evaluate(t,e){for(let n=0;n<this.opnds.length;n++)if(!this.opnds[n].evaluate(t,e))return!1;return!0}evalPrecedence(t,e){let n=!1;const r=[];for(let o=0;o<this.opnds.length;o++){const a=this.opnds[o],l=a.evalPrecedence(t,e);if(n|=l!==a,l===null)return null;l!==$.NONE&&r.push(l)}if(!n)return this;if(r.length===0)return $.NONE;let i=null;return r.map(function(o){i=i===null?o:$.andContext(i,o)}),i}toString(){const t=this.opnds.map(e=>e.toString());return(t.length>3?t.slice(3):t).join("&&")}}class $e extends ${constructor(t,e){super();const n=new bt;t instanceof $e?t.opnds.map(function(i){n.add(i)}):n.add(t),e instanceof $e?e.opnds.map(function(i){n.add(i)}):n.add(e);const r=xi(n);if(r.length>0){const i=r.sort(function(a,l){return a.compareTo(l)}),o=i[i.length-1];n.add(o)}this.opnds=Array.from(n.values())}equals(t){return this===t||t instanceof $e&&Oe(this.opnds,t.opnds)}updateHashCode(t){t.update(this.opnds,"OR")}evaluate(t,e){for(let n=0;n<this.opnds.length;n++)if(this.opnds[n].evaluate(t,e))return!0;return!1}evalPrecedence(t,e){let n=!1;const r=[];for(let i=0;i<this.opnds.length;i++){const o=this.opnds[i],a=o.evalPrecedence(t,e);if(n|=a!==o,a===$.NONE)return $.NONE;a!==null&&r.push(a)}return n?(r.length===0,null):this}toString(){const t=this.opnds.map(e=>e.toString());return(t.length>3?t.slice(3):t).join("||")}}function xi(s){const t=[];return s.values().map(function(e){e instanceof $.PrecedencePredicate&&t.push(e)}),t}function hr(s,t){if(s===null){const e={state:null,alt:null,context:null,semanticContext:null};return t&&(e.reachesIntoOuterContext=0),e}{const e={};return e.state=s.state||null,e.alt=s.alt===void 0?null:s.alt,e.context=s.context||null,e.semanticContext=s.semanticContext||null,t&&(e.reachesIntoOuterContext=s.reachesIntoOuterContext||0,e.precedenceFilterSuppressed=s.precedenceFilterSuppressed||!1),e}}class et{constructor(t,e){this.checkContext(t,e),t=hr(t),e=hr(e,!0),this.state=t.state!==null?t.state:e.state,this.alt=t.alt!==null?t.alt:e.alt,this.context=t.context!==null?t.context:e.context,this.semanticContext=t.semanticContext!==null?t.semanticContext:e.semanticContext!==null?e.semanticContext:$.NONE,this.reachesIntoOuterContext=e.reachesIntoOuterContext,this.precedenceFilterSuppressed=e.precedenceFilterSuppressed}checkContext(t,e){t.context!==null&&t.context!==void 0||e!==null&&e.context!==null&&e.context!==void 0||(this.context=null)}hashCode(){const t=new Ot;return this.updateHashCode(t),t.finish()}updateHashCode(t){t.update(this.state.stateNumber,this.alt,this.context,this.semanticContext)}equals(t){return this===t||t instanceof et&&this.state.stateNumber===t.state.stateNumber&&this.alt===t.alt&&(this.context===null?t.context===null:this.context.equals(t.context))&&this.semanticContext.equals(t.semanticContext)&&this.precedenceFilterSuppressed===t.precedenceFilterSuppressed}hashCodeForConfigSet(){const t=new Ot;return t.update(this.state.stateNumber,this.alt,this.semanticContext),t.finish()}equalsForConfigSet(t){return this===t||t instanceof et&&this.state.stateNumber===t.state.stateNumber&&this.alt===t.alt&&this.semanticContext.equals(t.semanticContext)}toString(){return"("+this.state+","+this.alt+(this.context!==null?",["+this.context.toString()+"]":"")+(this.semanticContext!==$.NONE?","+this.semanticContext.toString():"")+(this.reachesIntoOuterContext>0?",up="+this.reachesIntoOuterContext:"")+")"}}class L{constructor(t,e){this.start=t,this.stop=e}clone(){return new L(this.start,this.stop)}contains(t){return t>=this.start&&t<this.stop}toString(){return this.start===this.stop-1?this.start.toString():this.start.toString()+".."+(this.stop-1).toString()}get length(){return this.stop-this.start}}L.INVALID_INTERVAL=new L(-1,-2);class vt{constructor(){this.intervals=null,this.readOnly=!1}first(t){return this.intervals===null||this.intervals.length===0?p.INVALID_TYPE:this.intervals[0].start}addOne(t){this.addInterval(new L(t,t+1))}addRange(t,e){this.addInterval(new L(t,e+1))}addInterval(t){if(this.intervals===null)this.intervals=[],this.intervals.push(t.clone());else{for(let e=0;e<this.intervals.length;e++){const n=this.intervals[e];if(t.stop<n.start)return void this.intervals.splice(e,0,t);if(t.stop===n.start)return void(this.intervals[e]=new L(t.start,n.stop));if(t.start<=n.stop)return this.intervals[e]=new L(Math.min(n.start,t.start),Math.max(n.stop,t.stop)),void this.reduce(e)}this.intervals.push(t.clone())}}addSet(t){return t.intervals!==null&&t.intervals.forEach(e=>this.addInterval(e),this),this}reduce(t){if(t<this.intervals.length-1){const e=this.intervals[t],n=this.intervals[t+1];e.stop>=n.stop?(this.intervals.splice(t+1,1),this.reduce(t)):e.stop>=n.start&&(this.intervals[t]=new L(e.start,n.stop),this.intervals.splice(t+1,1))}}complement(t,e){const n=new vt;return n.addInterval(new L(t,e+1)),this.intervals!==null&&this.intervals.forEach(r=>n.removeRange(r)),n}contains(t){if(this.intervals===null)return!1;for(let e=0;e<this.intervals.length;e++)if(this.intervals[e].contains(t))return!0;return!1}removeRange(t){if(t.start===t.stop-1)this.removeOne(t.start);else if(this.intervals!==null){let e=0;for(let n=0;n<this.intervals.length;n++){const r=this.intervals[e];if(t.stop<=r.start)return;if(t.start>r.start&&t.stop<r.stop){this.intervals[e]=new L(r.start,t.start);const i=new L(t.stop,r.stop);return void this.intervals.splice(e,0,i)}t.start<=r.start&&t.stop>=r.stop?(this.intervals.splice(e,1),e-=1):t.start<r.stop?this.intervals[e]=new L(r.start,t.start):t.stop<r.stop&&(this.intervals[e]=new L(t.stop,r.stop)),e+=1}}}removeOne(t){if(this.intervals!==null)for(let e=0;e<this.intervals.length;e++){const n=this.intervals[e];if(t<n.start)return;if(t===n.start&&t===n.stop-1)return void this.intervals.splice(e,1);if(t===n.start)return void(this.intervals[e]=new L(n.start+1,n.stop));if(t===n.stop-1)return void(this.intervals[e]=new L(n.start,n.stop-1));if(t<n.stop-1){const r=new L(n.start,t);return n.start=t+1,void this.intervals.splice(e,0,r)}}}toString(t,e,n){return t=t||null,e=e||null,n=n||!1,this.intervals===null?"{}":t!==null||e!==null?this.toTokenString(t,e):n?this.toCharString():this.toIndexString()}toCharString(){const t=[];for(let e=0;e<this.intervals.length;e++){const n=this.intervals[e];n.stop===n.start+1?n.start===p.EOF?t.push("<EOF>"):t.push("'"+String.fromCharCode(n.start)+"'"):t.push("'"+String.fromCharCode(n.start)+"'..'"+String.fromCharCode(n.stop-1)+"'")}return t.length>1?"{"+t.join(", ")+"}":t[0]}toIndexString(){const t=[];for(let e=0;e<this.intervals.length;e++){const n=this.intervals[e];n.stop===n.start+1?n.start===p.EOF?t.push("<EOF>"):t.push(n.start.toString()):t.push(n.start.toString()+".."+(n.stop-1).toString())}return t.length>1?"{"+t.join(", ")+"}":t[0]}toTokenString(t,e){const n=[];for(let r=0;r<this.intervals.length;r++){const i=this.intervals[r];for(let o=i.start;o<i.stop;o++)n.push(this.elementName(t,e,o))}return n.length>1?"{"+n.join(", ")+"}":n[0]}elementName(t,e,n){return n===p.EOF?"<EOF>":n===p.EPSILON?"<EPSILON>":t[n]||e[n]}get length(){return this.intervals.map(t=>t.length).reduce((t,e)=>t+e)}}class _{constructor(){this.atn=null,this.stateNumber=_.INVALID_STATE_NUMBER,this.stateType=null,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.nextTokenWithinRule=null}toString(){return this.stateNumber}equals(t){return t instanceof _&&this.stateNumber===t.stateNumber}isNonGreedyExitState(){return!1}addTransition(t,e){e===void 0&&(e=-1),this.transitions.length===0?this.epsilonOnlyTransitions=t.isEpsilon:this.epsilonOnlyTransitions!==t.isEpsilon&&(this.epsilonOnlyTransitions=!1),e===-1?this.transitions.push(t):this.transitions.splice(e,1,t)}}_.INVALID_TYPE=0,_.BASIC=1,_.RULE_START=2,_.BLOCK_START=3,_.PLUS_BLOCK_START=4,_.STAR_BLOCK_START=5,_.TOKEN_START=6,_.RULE_STOP=7,_.BLOCK_END=8,_.STAR_LOOP_BACK=9,_.STAR_LOOP_ENTRY=10,_.PLUS_LOOP_BACK=11,_.LOOP_END=12,_.serializationNames=["INVALID","BASIC","RULE_START","BLOCK_START","PLUS_BLOCK_START","STAR_BLOCK_START","TOKEN_START","RULE_STOP","BLOCK_END","STAR_LOOP_BACK","STAR_LOOP_ENTRY","PLUS_LOOP_BACK","LOOP_END"],_.INVALID_STATE_NUMBER=-1;class Et extends _{constructor(){return super(),this.stateType=_.RULE_STOP,this}}class x{constructor(t){if(t==null)throw"target cannot be null.";this.target=t,this.isEpsilon=!1,this.label=null}}x.EPSILON=1,x.RANGE=2,x.RULE=3,x.PREDICATE=4,x.ATOM=5,x.ACTION=6,x.SET=7,x.NOT_SET=8,x.WILDCARD=9,x.PRECEDENCE=10,x.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"],x.serializationTypes={EpsilonTransition:x.EPSILON,RangeTransition:x.RANGE,RuleTransition:x.RULE,PredicateTransition:x.PREDICATE,AtomTransition:x.ATOM,ActionTransition:x.ACTION,SetTransition:x.SET,NotSetTransition:x.NOT_SET,WildcardTransition:x.WILDCARD,PrecedencePredicateTransition:x.PRECEDENCE};class In extends x{constructor(t,e,n,r){super(t),this.ruleIndex=e,this.precedence=n,this.followState=r,this.serializationType=x.RULE,this.isEpsilon=!0}matches(t,e,n){return!1}}class Os extends x{constructor(t,e){super(t),this.serializationType=x.SET,e!=null?this.label=e:(this.label=new vt,this.label.addOne(p.INVALID_TYPE))}matches(t,e,n){return this.label.contains(t)}toString(){return this.label.toString()}}class ws extends Os{constructor(t,e){super(t,e),this.serializationType=x.NOT_SET}matches(t,e,n){return t>=e&&t<=n&&!super.matches(t,e,n)}toString(){return"~"+super.toString()}}class Ei extends x{constructor(t){super(t),this.serializationType=x.WILDCARD}matches(t,e,n){return t>=e&&t<=n}toString(){return"."}}class ks extends x{constructor(t){super(t)}}class Ra{}class La extends Ra{}class _i extends La{}class Ye extends _i{get ruleContext(){throw new Error("missing interface implementation")}}class Vt extends _i{}class Hn extends Vt{}const Gt={toStringTree:function(s,t,e){t=t||null,(e=e||null)!==null&&(t=e.ruleNames);let n=Gt.getNodeText(s,t);n=function(o){return o=o.replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r")}(n);const r=s.getChildCount();if(r===0)return n;let i="("+n+" ";r>0&&(n=Gt.toStringTree(s.getChild(0),t),i=i.concat(n));for(let o=1;o<r;o++)n=Gt.toStringTree(s.getChild(o),t),i=i.concat(" "+n);return i=i.concat(")"),i},getNodeText:function(s,t,e){if(t=t||null,(e=e||null)!==null&&(t=e.ruleNames),t!==null){if(s instanceof Ye){const r=s.ruleContext.getAltNumber();return r!=0?t[s.ruleIndex]+":"+r:t[s.ruleIndex]}if(s instanceof Hn)return s.toString();if(s instanceof Vt&&s.symbol!==null)return s.symbol.text}const n=s.getPayload();return n instanceof p?n.text:s.getPayload().toString()},getChildren:function(s){const t=[];for(let e=0;e<s.getChildCount();e++)t.push(s.getChild(e));return t},getAncestors:function(s){let t=[];for(s=s.getParent();s!==null;)t=[s].concat(t),s=s.getParent();return t},findAllTokenNodes:function(s,t){return Gt.findAllNodes(s,t,!0)},findAllRuleNodes:function(s,t){return Gt.findAllNodes(s,t,!1)},findAllNodes:function(s,t,e){const n=[];return Gt._findAllNodes(s,t,e,n),n},_findAllNodes:function(s,t,e,n){e&&s instanceof Vt?s.symbol.type===t&&n.push(s):!e&&s instanceof Ye&&s.ruleIndex===t&&n.push(s);for(let r=0;r<s.getChildCount();r++)Gt._findAllNodes(s.getChild(r),t,e,n)},descendants:function(s){let t=[s];for(let e=0;e<s.getChildCount();e++)t=t.concat(Gt.descendants(s.getChild(e)));return t}},Si=Gt;class he extends Ye{constructor(t,e){super(),this.parentCtx=t||null,this.invokingState=e||-1}depth(){let t=0,e=this;for(;e!==null;)e=e.parentCtx,t+=1;return t}isEmpty(){return this.invokingState===-1}getSourceInterval(){return L.INVALID_INTERVAL}get ruleContext(){return this}getPayload(){return this}getText(){return this.getChildCount()===0?"":this.children.map(function(t){return t.getText()}).join("")}getAltNumber(){return 0}setAltNumber(t){}getChild(t){return null}getChildCount(){return 0}accept(t){return t.visitChildren(this)}toStringTree(t,e){return Si.toStringTree(this,t,e)}toString(t,e){t=t||null,e=e||null;let n=this,r="[";for(;n!==null&&n!==e;){if(t===null)n.isEmpty()||(r+=n.invokingState);else{const i=n.ruleIndex;r+=i>=0&&i<t.length?t[i]:""+i}n.parentCtx===null||t===null&&n.parentCtx.isEmpty()||(r+=" "),n=n.parentCtx}return r+="]",r}}class w{constructor(t){this.cachedHashCode=t}isEmpty(){return this===w.EMPTY}hasEmptyPath(){return this.getReturnState(this.length-1)===w.EMPTY_RETURN_STATE}hashCode(){return this.cachedHashCode}updateHashCode(t){t.update(this.cachedHashCode)}}w.EMPTY=null,w.EMPTY_RETURN_STATE=2147483647,w.globalNodeCount=1,w.id=w.globalNodeCount,w.trace_atn_sim=!1;class Ut extends w{constructor(t,e){const n=new Ot;return n.update(t,e),super(n.finish()),this.parents=t,this.returnStates=e,this}isEmpty(){return this.returnStates[0]===w.EMPTY_RETURN_STATE}getParent(t){return this.parents[t]}getReturnState(t){return this.returnStates[t]}equals(t){return this===t||t instanceof Ut&&this.hashCode()===t.hashCode()&&Oe(this.returnStates,t.returnStates)&&Oe(this.parents,t.parents)}toString(){if(this.isEmpty())return"[]";{let t="[";for(let e=0;e<this.returnStates.length;e++)e>0&&(t+=", "),this.returnStates[e]!==w.EMPTY_RETURN_STATE?(t+=this.returnStates[e],this.parents[e]!==null?t=t+" "+this.parents[e]:t+="null"):t+="$";return t+"]"}}get length(){return this.returnStates.length}}class Tt extends w{constructor(t,e){let n=0;const r=new Ot;t!==null?r.update(t,e):r.update(1),n=r.finish(),super(n),this.parentCtx=t,this.returnState=e}getParent(t){return this.parentCtx}getReturnState(t){return this.returnState}equals(t){return this===t||t instanceof Tt&&this.hashCode()===t.hashCode()&&this.returnState===t.returnState&&(this.parentCtx==null?t.parentCtx==null:this.parentCtx.equals(t.parentCtx))}toString(){const t=this.parentCtx===null?"":this.parentCtx.toString();return t.length===0?this.returnState===w.EMPTY_RETURN_STATE?"$":""+this.returnState:this.returnState+" "+t}get length(){return 1}static create(t,e){return e===w.EMPTY_RETURN_STATE&&t===null?w.EMPTY:new Tt(t,e)}}class us extends Tt{constructor(){super(null,w.EMPTY_RETURN_STATE)}isEmpty(){return!0}getParent(t){return null}getReturnState(t){return this.returnState}equals(t){return this===t}toString(){return"$"}}w.EMPTY=new us;class rn{constructor(t,e){this.buckets=new Array(16),this.threshold=Math.floor(12),this.itemCount=0,this.hashFunction=t||mi,this.equalsFunction=e||Ti}set(t,e){this._expand();const n=this._getSlot(t);let r=this.buckets[n];if(!r)return r=[[t,e]],this.buckets[n]=r,this.itemCount++,e;const i=r.find(o=>this.equalsFunction(o[0],t),this);if(i){const o=i[1];return i[1]=e,o}return r.push([t,e]),this.itemCount++,e}containsKey(t){const e=this._getBucket(t);return!!e&&!!e.find(n=>this.equalsFunction(n[0],t),this)}get(t){const e=this._getBucket(t);if(!e)return null;const n=e.find(r=>this.equalsFunction(r[0],t),this);return n?n[1]:null}entries(){return this.buckets.filter(t=>t!=null).flat(1)}getKeys(){return this.entries().map(t=>t[0])}getValues(){return this.entries().map(t=>t[1])}toString(){return"["+this.entries().map(t=>"{"+t[0]+":"+t[1]+"}").join(", ")+"]"}get length(){return this.itemCount}_getSlot(t){return this.hashFunction(t)&this.buckets.length-1}_getBucket(t){return this.buckets[this._getSlot(t)]}_expand(){if(this.itemCount<=this.threshold)return;const t=this.buckets,e=2*this.buckets.length;this.buckets=new Array(e),this.threshold=Math.floor(.75*e);for(const n of t)if(n)for(const r of n){const i=this._getSlot(r[0]);let o=this.buckets[i];o||(o=[],this.buckets[i]=o),o.push(r)}}}function Ds(s,t){if(t==null&&(t=he.EMPTY),t.parentCtx===null||t===he.EMPTY)return w.EMPTY;const e=Ds(s,t.parentCtx),n=s.states[t.invokingState].transitions[0];return Tt.create(e,n.followState.stateNumber)}function yi(s,t,e){if(s.isEmpty())return s;let n=e.get(s)||null;if(n!==null)return n;if(n=t.get(s),n!==null)return e.set(s,n),n;let r=!1,i=[];for(let a=0;a<i.length;a++){const l=yi(s.getParent(a),t,e);if(r||l!==s.getParent(a)){if(!r){i=[];for(let c=0;c<s.length;c++)i[c]=s.getParent(c);r=!0}i[a]=l}}if(!r)return t.add(s),e.set(s,s),s;let o=null;return o=i.length===0?w.EMPTY:i.length===1?Tt.create(i[0],s.getReturnState(0)):new Ut(i,s.returnStates),t.add(o),e.set(o,o),e.set(s,o),o}function hs(s,t,e,n){if(s===t)return s;if(s instanceof Tt&&t instanceof Tt)return function(r,i,o,a){if(a!==null){let c=a.get(r,i);if(c!==null||(c=a.get(i,r),c!==null))return c}const l=function(c,u,d){if(d){if(c===w.EMPTY||u===w.EMPTY)return w.EMPTY}else{if(c===w.EMPTY&&u===w.EMPTY)return w.EMPTY;if(c===w.EMPTY){const h=[u.returnState,w.EMPTY_RETURN_STATE],g=[u.parentCtx,null];return new Ut(g,h)}if(u===w.EMPTY){const h=[c.returnState,w.EMPTY_RETURN_STATE],g=[c.parentCtx,null];return new Ut(g,h)}}return null}(r,i,o);if(l!==null)return a!==null&&a.set(r,i,l),l;if(r.returnState===i.returnState){const c=hs(r.parentCtx,i.parentCtx,o,a);if(c===r.parentCtx)return r;if(c===i.parentCtx)return i;const u=Tt.create(c,r.returnState);return a!==null&&a.set(r,i,u),u}{let c=null;if((r===i||r.parentCtx!==null&&r.parentCtx===i.parentCtx)&&(c=r.parentCtx),c!==null){const g=[r.returnState,i.returnState];r.returnState>i.returnState&&(g[0]=i.returnState,g[1]=r.returnState);const f=new Ut([c,c],g);return a!==null&&a.set(r,i,f),f}const u=[r.returnState,i.returnState];let d=[r.parentCtx,i.parentCtx];r.returnState>i.returnState&&(u[0]=i.returnState,u[1]=r.returnState,d=[i.parentCtx,r.parentCtx]);const h=new Ut(d,u);return a!==null&&a.set(r,i,h),h}}(s,t,e,n);if(e){if(s instanceof us)return s;if(t instanceof us)return t}return s instanceof Tt&&(s=new Ut([s.getParent()],[s.returnState])),t instanceof Tt&&(t=new Ut([t.getParent()],[t.returnState])),function(r,i,o,a){if(a!==null){let f=a.get(r,i);if(f!==null||(f=a.get(i,r),f!==null))return w.trace_atn_sim&&console.log("mergeArrays a="+r+",b="+i+" -> previous"),f}let l=0,c=0,u=0,d=new Array(r.returnStates.length+i.returnStates.length).fill(0),h=new Array(r.returnStates.length+i.returnStates.length).fill(null);for(;l<r.returnStates.length&&c<i.returnStates.length;){const f=r.parents[l],m=i.parents[c];if(r.returnStates[l]===i.returnStates[c]){const T=r.returnStates[l];T===w.EMPTY_RETURN_STATE&&f===null&&m===null||f!==null&&m!==null&&f===m?(h[u]=f,d[u]=T):(h[u]=hs(f,m,o,a),d[u]=T),l+=1,c+=1}else r.returnStates[l]<i.returnStates[c]?(h[u]=f,d[u]=r.returnStates[l],l+=1):(h[u]=m,d[u]=i.returnStates[c],c+=1);u+=1}if(l<r.returnStates.length)for(let f=l;f<r.returnStates.length;f++)h[u]=r.parents[f],d[u]=r.returnStates[f],u+=1;else for(let f=c;f<i.returnStates.length;f++)h[u]=i.parents[f],d[u]=i.returnStates[f],u+=1;if(u<h.length){if(u===1){const f=Tt.create(h[0],d[0]);return a!==null&&a.set(r,i,f),f}h=h.slice(0,u),d=d.slice(0,u)}const g=new Ut(h,d);return g.equals(r)?(a!==null&&a.set(r,i,r),w.trace_atn_sim&&console.log("mergeArrays a="+r+",b="+i+" -> a"),r):g.equals(i)?(a!==null&&a.set(r,i,i),w.trace_atn_sim&&console.log("mergeArrays a="+r+",b="+i+" -> b"),i):(function(f){const m=new rn;for(let T=0;T<f.length;T++){const b=f[T];m.containsKey(b)||m.set(b,b)}for(let T=0;T<f.length;T++)f[T]=m.get(f[T])}(h),a!==null&&a.set(r,i,g),w.trace_atn_sim&&console.log("mergeArrays a="+r+",b="+i+" -> "+g),g)}(s,t,e,n)}class xt{constructor(){this.data=new Uint32Array(1)}set(t){xt._checkIndex(t),this._resize(t),this.data[t>>>5]|=1<<t%32}get(t){xt._checkIndex(t);const e=t>>>5;return!(e>=this.data.length||!(this.data[e]&1<<t%32))}clear(t){xt._checkIndex(t);const e=t>>>5;e<this.data.length&&(this.data[e]&=~(1<<t))}or(t){const e=Math.min(this.data.length,t.data.length);for(let n=0;n<e;++n)this.data[n]|=t.data[n];if(this.data.length<t.data.length){this._resize((t.data.length<<5)-1);const n=t.data.length;for(let r=e;r<n;++r)this.data[r]=t.data[r]}}values(){const t=new Array(this.length);let e=0;const n=this.data.length;for(let r=0;r<n;++r){let i=this.data[r];for(;i!==0;){const o=i&-i;t[e++]=(r<<5)+xt._bitCount(o-1),i^=o}}return t}minValue(){for(let t=0;t<this.data.length;++t){let e=this.data[t];if(e!==0){let n=0;for(;!(1&e);)n++,e>>=1;return n+32*t}}return 0}hashCode(){return Ot.hashStuff(this.values())}equals(t){return t instanceof xt&&Oe(this.data,t.data)}toString(){return"{"+this.values().join(", ")+"}"}get length(){return this.data.map(t=>xt._bitCount(t)).reduce((t,e)=>t+e,0)}_resize(t){const e=t+32>>>5;if(e<=this.data.length)return;const n=new Uint32Array(e);n.set(this.data),n.fill(0,this.data.length),this.data=n}static _checkIndex(t){if(t<0)throw new RangeError("index cannot be negative")}static _bitCount(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,0+(t+=t>>16)&63}}class de{constructor(t){this.atn=t}getDecisionLookahead(t){if(t===null)return null;const e=t.transitions.length,n=[];for(let r=0;r<e;r++){n[r]=new vt;const i=new bt;this._LOOK(t.transition(r).target,null,w.EMPTY,n[r],i,new xt,!1,!1),(n[r].length===0||n[r].contains(de.HIT_PRED))&&(n[r]=null)}return n}LOOK(t,e,n){const r=new vt,i=(n=n||null)!==null?Ds(t.atn,n):null;return this._LOOK(t,e,i,r,new bt,new xt,!0,!0),r}_LOOK(t,e,n,r,i,o,a,l){const c=new et({state:t,alt:0,context:n},null);if(!i.has(c)){if(i.add(c),t===e){if(n===null)return void r.addOne(p.EPSILON);if(n.isEmpty()&&l)return void r.addOne(p.EOF)}if(t instanceof Et){if(n===null)return void r.addOne(p.EPSILON);if(n.isEmpty()&&l)return void r.addOne(p.EOF);if(n!==w.EMPTY){const u=o.get(t.ruleIndex);try{o.clear(t.ruleIndex);for(let d=0;d<n.length;d++){const h=this.atn.states[n.getReturnState(d)];this._LOOK(h,e,n.getParent(d),r,i,o,a,l)}}finally{u&&o.set(t.ruleIndex)}return}}for(let u=0;u<t.transitions.length;u++){const d=t.transitions[u];if(d.constructor===In){if(o.get(d.target.ruleIndex))continue;const h=Tt.create(n,d.followState.stateNumber);try{o.set(d.target.ruleIndex),this._LOOK(d.target,e,h,r,i,o,a,l)}finally{o.clear(d.target.ruleIndex)}}else if(d instanceof ks)a?this._LOOK(d.target,e,n,r,i,o,a,l):r.addOne(de.HIT_PRED);else if(d.isEpsilon)this._LOOK(d.target,e,n,r,i,o,a,l);else if(d.constructor===Ei)r.addRange(p.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType);else{let h=d.label;h!==null&&(d instanceof ws&&(h=h.complement(p.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType)),r.addSet(h))}}}}}de.HIT_PRED=p.INVALID_TYPE;class Y{constructor(t,e){this.grammarType=t,this.maxTokenType=e,this.states=[],this.decisionToState=[],this.ruleToStartState=[],this.ruleToStopState=null,this.modeNameToStartState={},this.ruleToTokenType=null,this.lexerActions=null,this.modeToStartState=[]}nextTokensInContext(t,e){return new de(this).LOOK(t,null,e)}nextTokensNoContext(t){return t.nextTokenWithinRule!==null||(t.nextTokenWithinRule=this.nextTokensInContext(t,null),t.nextTokenWithinRule.readOnly=!0),t.nextTokenWithinRule}nextTokens(t,e){return e===void 0?this.nextTokensNoContext(t):this.nextTokensInContext(t,e)}addState(t){t!==null&&(t.atn=this,t.stateNumber=this.states.length),this.states.push(t)}removeState(t){this.states[t.stateNumber]=null}defineDecisionState(t){return this.decisionToState.push(t),t.decision=this.decisionToState.length-1,t.decision}getDecisionState(t){return this.decisionToState.length===0?null:this.decisionToState[t]}getExpectedTokens(t,e){if(t<0||t>=this.states.length)throw"Invalid state number.";const n=this.states[t];let r=this.nextTokens(n);if(!r.contains(p.EPSILON))return r;const i=new vt;for(i.addSet(r),i.removeOne(p.EPSILON);e!==null&&e.invokingState>=0&&r.contains(p.EPSILON);){const o=this.states[e.invokingState].transitions[0];r=this.nextTokens(o.followState),i.addSet(r),i.removeOne(p.EPSILON),e=e.parentCtx}return r.contains(p.EPSILON)&&i.addOne(p.EOF),i}}Y.INVALID_ALT_NUMBER=0;class dr extends _{constructor(){super(),this.stateType=_.BASIC}}class De extends _{constructor(){return super(),this.decision=-1,this.nonGreedy=!1,this}}class ve extends De{constructor(){return super(),this.endState=null,this}}class Xn extends _{constructor(){return super(),this.stateType=_.BLOCK_END,this.startState=null,this}}class me extends _{constructor(){return super(),this.stateType=_.LOOP_END,this.loopBackState=null,this}}class fr extends _{constructor(){return super(),this.stateType=_.RULE_START,this.stopState=null,this.isPrecedenceRule=!1,this}}class Pa extends De{constructor(){return super(),this.stateType=_.TOKEN_START,this}}class gr extends De{constructor(){return super(),this.stateType=_.PLUS_LOOP_BACK,this}}class Jn extends _{constructor(){return super(),this.stateType=_.STAR_LOOP_BACK,this}}class ie extends De{constructor(){return super(),this.stateType=_.STAR_LOOP_ENTRY,this.loopBackState=null,this.isPrecedenceDecision=null,this}}class Qn extends ve{constructor(){return super(),this.stateType=_.PLUS_BLOCK_START,this.loopBackState=null,this}}class ts extends ve{constructor(){return super(),this.stateType=_.STAR_BLOCK_START,this}}class pr extends ve{constructor(){return super(),this.stateType=_.BLOCK_START,this}}class ds extends x{constructor(t,e){super(t),this.label_=e,this.label=this.makeLabel(),this.serializationType=x.ATOM}makeLabel(){const t=new vt;return t.addOne(this.label_),t}matches(t,e,n){return this.label_===t}toString(){return this.label_}}class Fa extends x{constructor(t,e,n){super(t),this.serializationType=x.RANGE,this.start=e,this.stop=n,this.label=this.makeLabel()}makeLabel(){const t=new vt;return t.addRange(this.start,this.stop),t}matches(t,e,n){return t>=this.start&&t<=this.stop}toString(){return"'"+String.fromCharCode(this.start)+"'..'"+String.fromCharCode(this.stop)+"'"}}class Ai extends x{constructor(t,e,n,r){super(t),this.serializationType=x.ACTION,this.ruleIndex=e,this.actionIndex=n===void 0?-1:n,this.isCtxDependent=r!==void 0&&r,this.isEpsilon=!0}matches(t,e,n){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}}class Pe extends x{constructor(t,e){super(t),this.serializationType=x.EPSILON,this.isEpsilon=!0,this.outermostPrecedenceReturn=e}matches(t,e,n){return!1}toString(){return"epsilon"}}class Vn extends ${constructor(t,e,n){super(),this.ruleIndex=t===void 0?-1:t,this.predIndex=e===void 0?-1:e,this.isCtxDependent=n!==void 0&&n}evaluate(t,e){const n=this.isCtxDependent?e:null;return t.sempred(n,this.ruleIndex,this.predIndex)}updateHashCode(t){t.update(this.ruleIndex,this.predIndex,this.isCtxDependent)}equals(t){return this===t||t instanceof Vn&&this.ruleIndex===t.ruleIndex&&this.predIndex===t.predIndex&&this.isCtxDependent===t.isCtxDependent}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}$.NONE=new Vn;class vi extends ks{constructor(t,e,n,r){super(t),this.serializationType=x.PREDICATE,this.ruleIndex=e,this.predIndex=n,this.isCtxDependent=r,this.isEpsilon=!0}matches(t,e,n){return!1}getPredicate(){return new Vn(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}}class Gn extends ${constructor(t){super(),this.precedence=t===void 0?0:t}evaluate(t,e){return t.precpred(e,this.precedence)}evalPrecedence(t,e){return t.precpred(e,this.precedence)?$.NONE:null}compareTo(t){return this.precedence-t.precedence}updateHashCode(t){t.update(this.precedence)}equals(t){return this===t||t instanceof Gn&&this.precedence===t.precedence}toString(){return"{"+this.precedence+">=prec}?"}}$.PrecedencePredicate=Gn;class Ma extends ks{constructor(t,e){super(t),this.serializationType=x.PRECEDENCE,this.precedence=e,this.isEpsilon=!0}matches(t,e,n){return!1}getPredicate(){return new Gn(this.precedence)}toString(){return this.precedence+" >= _p"}}class ze{constructor(t){t===void 0&&(t=null),this.readOnly=!1,this.verifyATN=t===null||t.verifyATN,this.generateRuleBypassTransitions=t!==null&&t.generateRuleBypassTransitions}}ze.defaultOptions=new ze,ze.defaultOptions.readOnly=!0;class Wt{constructor(t){this.actionType=t,this.isPositionDependent=!1}hashCode(){const t=new Ot;return this.updateHashCode(t),t.finish()}updateHashCode(t){t.update(this.actionType)}equals(t){return this===t}}class fs extends Wt{constructor(){super(6)}execute(t){t.skip()}toString(){return"skip"}}fs.INSTANCE=new fs;class Rs extends Wt{constructor(t){super(0),this.channel=t}execute(t){t._channel=this.channel}updateHashCode(t){t.update(this.actionType,this.channel)}equals(t){return this===t||t instanceof Rs&&this.channel===t.channel}toString(){return"channel("+this.channel+")"}}class Ls extends Wt{constructor(t,e){super(1),this.ruleIndex=t,this.actionIndex=e,this.isPositionDependent=!0}execute(t){t.action(null,this.ruleIndex,this.actionIndex)}updateHashCode(t){t.update(this.actionType,this.ruleIndex,this.actionIndex)}equals(t){return this===t||t instanceof Ls&&this.ruleIndex===t.ruleIndex&&this.actionIndex===t.actionIndex}}class gs extends Wt{constructor(){super(3)}execute(t){t.more()}toString(){return"more"}}gs.INSTANCE=new gs;class Ps extends Wt{constructor(t){super(7),this.type=t}execute(t){t.type=this.type}updateHashCode(t){t.update(this.actionType,this.type)}equals(t){return this===t||t instanceof Ps&&this.type===t.type}toString(){return"type("+this.type+")"}}class Fs extends Wt{constructor(t){super(5),this.mode=t}execute(t){t.pushMode(this.mode)}updateHashCode(t){t.update(this.actionType,this.mode)}equals(t){return this===t||t instanceof Fs&&this.mode===t.mode}toString(){return"pushMode("+this.mode+")"}}class ps extends Wt{constructor(){super(4)}execute(t){t.popMode()}toString(){return"popMode"}}ps.INSTANCE=new ps;class Ms extends Wt{constructor(t){super(2),this.mode=t}execute(t){t.setMode(this.mode)}updateHashCode(t){t.update(this.actionType,this.mode)}equals(t){return this===t||t instanceof Ms&&this.mode===t.mode}toString(){return"mode("+this.mode+")"}}function cn(s,t){const e=[];return e[s-1]=t,e.map(function(n){return t})}class Us{constructor(t){t==null&&(t=ze.defaultOptions),this.deserializationOptions=t,this.stateFactories=null,this.actionFactories=null}deserialize(t){const e=this.reset(t);this.checkVersion(e),e&&this.skipUUID();const n=this.readATN();this.readStates(n,e),this.readRules(n,e),this.readModes(n);const r=[];return this.readSets(n,r,this.readInt.bind(this)),e&&this.readSets(n,r,this.readInt32.bind(this)),this.readEdges(n,r),this.readDecisions(n),this.readLexerActions(n,e),this.markPrecedenceDecisions(n),this.verifyATN(n),this.deserializationOptions.generateRuleBypassTransitions&&n.grammarType===1&&(this.generateRuleBypassTransitions(n),this.verifyATN(n)),n}reset(t){if((t.charCodeAt?t.charCodeAt(0):t[0])===3){const e=function(r){const i=r.charCodeAt(0);return i>1?i-2:i+65534},n=t.split("").map(e);return n[0]=t.charCodeAt(0),this.data=n,this.pos=0,!0}return this.data=t,this.pos=0,!1}skipUUID(){let t=0;for(;t++<8;)this.readInt()}checkVersion(t){const e=this.readInt();if(!t&&e!==4)throw"Could not deserialize ATN with version "+e+" (expected 4)."}readATN(){const t=this.readInt(),e=this.readInt();return new Y(t,e)}readStates(t,e){let n,r,i;const o=[],a=[],l=this.readInt();for(let d=0;d<l;d++){const h=this.readInt();if(h===_.INVALID_TYPE){t.addState(null);continue}let g=this.readInt();e&&g===65535&&(g=-1);const f=this.stateFactory(h,g);if(h===_.LOOP_END){const m=this.readInt();o.push([f,m])}else if(f instanceof ve){const m=this.readInt();a.push([f,m])}t.addState(f)}for(n=0;n<o.length;n++)r=o[n],r[0].loopBackState=t.states[r[1]];for(n=0;n<a.length;n++)r=a[n],r[0].endState=t.states[r[1]];let c=this.readInt();for(n=0;n<c;n++)i=this.readInt(),t.states[i].nonGreedy=!0;let u=this.readInt();for(n=0;n<u;n++)i=this.readInt(),t.states[i].isPrecedenceRule=!0}readRules(t,e){let n;const r=this.readInt();for(t.grammarType===0&&(t.ruleToTokenType=cn(r,0)),t.ruleToStartState=cn(r,0),n=0;n<r;n++){const i=this.readInt();if(t.ruleToStartState[n]=t.states[i],t.grammarType===0){let o=this.readInt();e&&o===65535&&(o=p.EOF),t.ruleToTokenType[n]=o}}for(t.ruleToStopState=cn(r,0),n=0;n<t.states.length;n++){const i=t.states[n];i instanceof Et&&(t.ruleToStopState[i.ruleIndex]=i,t.ruleToStartState[i.ruleIndex].stopState=i)}}readModes(t){const e=this.readInt();for(let n=0;n<e;n++){let r=this.readInt();t.modeToStartState.push(t.states[r])}}readSets(t,e,n){const r=this.readInt();for(let i=0;i<r;i++){const o=new vt;e.push(o);const a=this.readInt();this.readInt()!==0&&o.addOne(-1);for(let l=0;l<a;l++){const c=n(),u=n();o.addRange(c,u)}}}readEdges(t,e){let n,r,i,o,a;const l=this.readInt();for(n=0;n<l;n++){const c=this.readInt(),u=this.readInt(),d=this.readInt(),h=this.readInt(),g=this.readInt(),f=this.readInt();o=this.edgeFactory(t,d,c,u,h,g,f,e),t.states[c].addTransition(o)}for(n=0;n<t.states.length;n++)for(i=t.states[n],r=0;r<i.transitions.length;r++){const c=i.transitions[r];if(!(c instanceof In))continue;let u=-1;t.ruleToStartState[c.target.ruleIndex].isPrecedenceRule&&c.precedence===0&&(u=c.target.ruleIndex),o=new Pe(c.followState,u),t.ruleToStopState[c.target.ruleIndex].addTransition(o)}for(n=0;n<t.states.length;n++){if(i=t.states[n],i instanceof ve){if(i.endState===null||i.endState.startState!==null)throw"IllegalState";i.endState.startState=i}if(i instanceof gr)for(r=0;r<i.transitions.length;r++)a=i.transitions[r].target,a instanceof Qn&&(a.loopBackState=i);else if(i instanceof Jn)for(r=0;r<i.transitions.length;r++)a=i.transitions[r].target,a instanceof ie&&(a.loopBackState=i)}}readDecisions(t){const e=this.readInt();for(let n=0;n<e;n++){const r=this.readInt(),i=t.states[r];t.decisionToState.push(i),i.decision=n}}readLexerActions(t,e){if(t.grammarType===0){const n=this.readInt();t.lexerActions=cn(n,null);for(let r=0;r<n;r++){const i=this.readInt();let o=this.readInt();e&&o===65535&&(o=-1);let a=this.readInt();e&&a===65535&&(a=-1),t.lexerActions[r]=this.lexerActionFactory(i,o,a)}}}generateRuleBypassTransitions(t){let e;const n=t.ruleToStartState.length;for(e=0;e<n;e++)t.ruleToTokenType[e]=t.maxTokenType+e+1;for(e=0;e<n;e++)this.generateRuleBypassTransition(t,e)}generateRuleBypassTransition(t,e){let n,r;const i=new pr;i.ruleIndex=e,t.addState(i);const o=new Xn;o.ruleIndex=e,t.addState(o),i.endState=o,t.defineDecisionState(i),o.startState=i;let a=null,l=null;if(t.ruleToStartState[e].isPrecedenceRule){for(l=null,n=0;n<t.states.length;n++)if(r=t.states[n],this.stateIsEndStateFor(r,e)){l=r,a=r.loopBackState.transitions[0];break}if(a===null)throw"Couldn't identify final state of the precedence rule prefix section."}else l=t.ruleToStopState[e];for(n=0;n<t.states.length;n++){r=t.states[n];for(let h=0;h<r.transitions.length;h++){const g=r.transitions[h];g!==a&&g.target===l&&(g.target=o)}}const c=t.ruleToStartState[e],u=c.transitions.length;for(;u>0;)i.addTransition(c.transitions[u-1]),c.transitions=c.transitions.slice(-1);t.ruleToStartState[e].addTransition(new Pe(i)),o.addTransition(new Pe(l));const d=new dr;t.addState(d),d.addTransition(new ds(o,t.ruleToTokenType[e])),i.addTransition(new Pe(d))}stateIsEndStateFor(t,e){if(t.ruleIndex!==e||!(t instanceof ie))return null;const n=t.transitions[t.transitions.length-1].target;return n instanceof me&&n.epsilonOnlyTransitions&&n.transitions[0].target instanceof Et?t:null}markPrecedenceDecisions(t){for(let e=0;e<t.states.length;e++){const n=t.states[e];if(n instanceof ie&&t.ruleToStartState[n.ruleIndex].isPrecedenceRule){const r=n.transitions[n.transitions.length-1].target;r instanceof me&&r.epsilonOnlyTransitions&&r.transitions[0].target instanceof Et&&(n.isPrecedenceDecision=!0)}}}verifyATN(t){if(this.deserializationOptions.verifyATN)for(let e=0;e<t.states.length;e++){const n=t.states[e];if(n!==null)if(this.checkCondition(n.epsilonOnlyTransitions||n.transitions.length<=1),n instanceof Qn)this.checkCondition(n.loopBackState!==null);else if(n instanceof ie)if(this.checkCondition(n.loopBackState!==null),this.checkCondition(n.transitions.length===2),n.transitions[0].target instanceof ts)this.checkCondition(n.transitions[1].target instanceof me),this.checkCondition(!n.nonGreedy);else{if(!(n.transitions[0].target instanceof me))throw"IllegalState";this.checkCondition(n.transitions[1].target instanceof ts),this.checkCondition(n.nonGreedy)}else n instanceof Jn?(this.checkCondition(n.transitions.length===1),this.checkCondition(n.transitions[0].target instanceof ie)):n instanceof me?this.checkCondition(n.loopBackState!==null):n instanceof fr?this.checkCondition(n.stopState!==null):n instanceof ve?this.checkCondition(n.endState!==null):n instanceof Xn?this.checkCondition(n.startState!==null):n instanceof De?this.checkCondition(n.transitions.length<=1||n.decision>=0):this.checkCondition(n.transitions.length<=1||n instanceof Et)}}checkCondition(t,e){if(!t)throw e==null&&(e="IllegalState"),e}readInt(){return this.data[this.pos++]}readInt32(){return this.readInt()|this.readInt()<<16}edgeFactory(t,e,n,r,i,o,a,l){const c=t.states[r];switch(e){case x.EPSILON:return new Pe(c);case x.RANGE:return new Fa(c,a!==0?p.EOF:i,o);case x.RULE:return new In(t.states[i],o,a,c);case x.PREDICATE:return new vi(c,i,o,a!==0);case x.PRECEDENCE:return new Ma(c,i);case x.ATOM:return new ds(c,a!==0?p.EOF:i);case x.ACTION:return new Ai(c,i,o,a!==0);case x.SET:return new Os(c,l[i]);case x.NOT_SET:return new ws(c,l[i]);case x.WILDCARD:return new Ei(c);default:throw"The specified transition type: "+e+" is not valid."}}stateFactory(t,e){if(this.stateFactories===null){const n=[];n[_.INVALID_TYPE]=null,n[_.BASIC]=()=>new dr,n[_.RULE_START]=()=>new fr,n[_.BLOCK_START]=()=>new pr,n[_.PLUS_BLOCK_START]=()=>new Qn,n[_.STAR_BLOCK_START]=()=>new ts,n[_.TOKEN_START]=()=>new Pa,n[_.RULE_STOP]=()=>new Et,n[_.BLOCK_END]=()=>new Xn,n[_.STAR_LOOP_BACK]=()=>new Jn,n[_.STAR_LOOP_ENTRY]=()=>new ie,n[_.PLUS_LOOP_BACK]=()=>new gr,n[_.LOOP_END]=()=>new me,this.stateFactories=n}if(t>this.stateFactories.length||this.stateFactories[t]===null)throw"The specified state type "+t+" is not valid.";{const n=this.stateFactories[t]();if(n!==null)return n.ruleIndex=e,n}}lexerActionFactory(t,e,n){if(this.actionFactories===null){const r=[];r[0]=(i,o)=>new Rs(i),r[1]=(i,o)=>new Ls(i,o),r[2]=(i,o)=>new Ms(i),r[3]=(i,o)=>gs.INSTANCE,r[4]=(i,o)=>ps.INSTANCE,r[5]=(i,o)=>new Fs(i),r[6]=(i,o)=>fs.INSTANCE,r[7]=(i,o)=>new Ps(i),this.actionFactories=r}if(t>this.actionFactories.length||this.actionFactories[t]===null)throw"The specified lexer action type "+t+" is not valid.";return this.actionFactories[t](e,n)}}class on{syntaxError(t,e,n,r,i,o){}reportAmbiguity(t,e,n,r,i,o,a){}reportAttemptingFullContext(t,e,n,r,i,o){}reportContextSensitivity(t,e,n,r,i,o){}}class ms extends on{constructor(){super()}syntaxError(t,e,n,r,i,o){console.error("line "+n+":"+r+" "+i)}}ms.INSTANCE=new ms;class Ua extends on{constructor(t){if(super(),t===null)throw"delegates";return this.delegates=t,this}syntaxError(t,e,n,r,i,o){this.delegates.map(a=>a.syntaxError(t,e,n,r,i,o))}reportAmbiguity(t,e,n,r,i,o,a){this.delegates.map(l=>l.reportAmbiguity(t,e,n,r,i,o,a))}reportAttemptingFullContext(t,e,n,r,i,o){this.delegates.map(a=>a.reportAttemptingFullContext(t,e,n,r,i,o))}reportContextSensitivity(t,e,n,r,i,o){this.delegates.map(a=>a.reportContextSensitivity(t,e,n,r,i,o))}}class bn{constructor(){this._listeners=[ms.INSTANCE],this._interp=null,this._stateNumber=-1}checkVersion(t){const e="4.13.2";e!==t&&console.log("ANTLR runtime and generated code versions disagree: "+e+"!="+t)}addErrorListener(t){this._listeners.push(t)}removeErrorListeners(){this._listeners=[]}getLiteralNames(){return Object.getPrototypeOf(this).constructor.literalNames||[]}getSymbolicNames(){return Object.getPrototypeOf(this).constructor.symbolicNames||[]}getTokenNames(){if(!this.tokenNames){const t=this.getLiteralNames(),e=this.getSymbolicNames(),n=t.length>e.length?t.length:e.length;this.tokenNames=[];for(let r=0;r<n;r++)this.tokenNames[r]=t[r]||e[r]||"<INVALID"}return this.tokenNames}getTokenTypeMap(){const t=this.getTokenNames();if(t===null)throw"The current recognizer does not provide a list of token names.";let e=this.tokenTypeMapCache[t];return e===void 0&&(e=t.reduce(function(n,r,i){n[r]=i}),e.EOF=p.EOF,this.tokenTypeMapCache[t]=e),e}getRuleIndexMap(){const t=this.ruleNames;if(t===null)throw"The current recognizer does not provide a list of rule names.";let e=this.ruleIndexMapCache[t];return e===void 0&&(e=t.reduce(function(n,r,i){n[r]=i}),this.ruleIndexMapCache[t]=e),e}getTokenType(t){const e=this.getTokenTypeMap()[t];return e!==void 0?e:p.INVALID_TYPE}getErrorHeader(t){return"line "+t.getOffendingToken().line+":"+t.getOffendingToken().column}getTokenErrorDisplay(t){if(t===null)return"<no token>";let e=t.text;return e===null&&(e=t.type===p.EOF?"<EOF>":"<"+t.type+">"),e=e.replace(`
`,"\\n").replace("\r","\\r").replace("	","\\t"),"'"+e+"'"}getErrorListenerDispatch(){return console.warn("Calling deprecated method in Recognizer class: getErrorListenerDispatch()"),this.getErrorListener()}getErrorListener(){return new Ua(this._listeners)}sempred(t,e,n){return!0}precpred(t,e){return!0}get atn(){return this._interp.atn}get state(){return this._stateNumber}set state(t){this._stateNumber=t}}bn.tokenTypeMapCache={},bn.ruleIndexMapCache={};class Kt extends p{constructor(t,e,n,r,i){super(),this.source=t!==void 0?t:Kt.EMPTY_SOURCE,this.type=e!==void 0?e:null,this.channel=n!==void 0?n:p.DEFAULT_CHANNEL,this.start=r!==void 0?r:-1,this.stop=i!==void 0?i:-1,this.tokenIndex=-1,this.source[0]!==null?(this.line=t[0].line,this.column=t[0].column):this.column=-1}clone(){const t=new Kt(this.source,this.type,this.channel,this.start,this.stop);return t.tokenIndex=this.tokenIndex,t.line=this.line,t.column=this.column,t.text=this.text,t}cloneWithType(t){const e=new Kt(this.source,t,this.channel,this.start,this.stop);return e.tokenIndex=this.tokenIndex,e.line=this.line,e.column=this.column,t===p.EOF&&(e.text=""),e}toString(){let t=this.text;return t=t!==null?t.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t"):"<no text>","[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+t+"',<"+this.type+">"+(this.channel>0?",channel="+this.channel:"")+","+this.line+":"+this.column+"]"}get text(){if(this._text!==null)return this._text;const t=this.getInputStream();if(t===null)return null;const e=t.size;return this.start<e&&this.stop<e?t.getText(this.start,this.stop):"<EOF>"}set text(t){this._text=t}}Kt.EMPTY_SOURCE=[null,null];class $a{}class Ts extends $a{constructor(t){super(),this.copyText=t!==void 0&&t}create(t,e,n,r,i,o,a,l){const c=new Kt(t,e,r,i,o);return c.line=a,c.column=l,n!==null?c.text=n:this.copyText&&t[1]!==null&&(c.text=t[1].getText(i,o)),c}createThin(t,e){const n=new Kt(null,t);return n.text=e,n}}Ts.DEFAULT=new Ts;class Zt extends Error{constructor(t){super(t.message),Error.captureStackTrace&&Error.captureStackTrace(this,Zt),this.message=t.message,this.recognizer=t.recognizer,this.input=t.input,this.ctx=t.ctx,this.offendingToken=null,this.offendingState=-1,this.recognizer!==null&&(this.offendingState=this.recognizer.state)}getExpectedTokens(){return this.recognizer!==null?this.recognizer.atn.getExpectedTokens(this.offendingState,this.ctx):null}toString(){return this.message}}class $s extends Zt{constructor(t,e,n,r){super({message:"",recognizer:t,input:e,ctx:null}),this.startIndex=n,this.deadEndConfigs=r}toString(){let t="";return this.startIndex>=0&&this.startIndex<this.input.size&&(t=this.input.getText(new L(this.startIndex,this.startIndex))),"LexerNoViableAltException"+t}}class W extends bn{constructor(t){super(),this._input=t,this._factory=Ts.DEFAULT,this._tokenFactorySourcePair=[this,t],this._interp=null,this._token=null,this._tokenStartCharIndex=-1,this._tokenStartLine=-1,this._tokenStartColumn=-1,this._hitEOF=!1,this._channel=p.DEFAULT_CHANNEL,this._type=p.INVALID_TYPE,this._modeStack=[],this._mode=W.DEFAULT_MODE,this._text=null}reset(){this._input!==null&&this._input.seek(0),this._token=null,this._type=p.INVALID_TYPE,this._channel=p.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartColumn=-1,this._tokenStartLine=-1,this._text=null,this._hitEOF=!1,this._mode=W.DEFAULT_MODE,this._modeStack=[],this._interp.reset()}nextToken(){if(this._input===null)throw"nextToken requires a non-null input stream.";const t=this._input.mark();try{for(;;){if(this._hitEOF)return this.emitEOF(),this._token;this._token=null,this._channel=p.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartColumn=this._interp.column,this._tokenStartLine=this._interp.line,this._text=null;let e=!1;for(;;){this._type=p.INVALID_TYPE;let n=W.SKIP;try{n=this._interp.match(this._input,this._mode)}catch(r){if(!(r instanceof Zt))throw console.log(r.stack),r;this.notifyListeners(r),this.recover(r)}if(this._input.LA(1)===p.EOF&&(this._hitEOF=!0),this._type===p.INVALID_TYPE&&(this._type=n),this._type===W.SKIP){e=!0;break}if(this._type!==W.MORE)break}if(!e)return this._token===null&&this.emit(),this._token}}finally{this._input.release(t)}}skip(){this._type=W.SKIP}more(){this._type=W.MORE}mode(t){console.warn("Calling deprecated method in Lexer class: mode(...)"),this.setMode(t)}setMode(t){this._mode=t}getMode(){return this._mode}getModeStack(){return this._modeStack}pushMode(t){this._interp.debug&&console.log("pushMode "+t),this._modeStack.push(this._mode),this.setMode(t)}popMode(){if(this._modeStack.length===0)throw"Empty Stack";return this._interp.debug&&console.log("popMode back to "+this._modeStack.slice(0,-1)),this.setMode(this._modeStack.pop()),this._mode}emitToken(t){this._token=t}emit(){const t=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.getCharIndex()-1,this._tokenStartLine,this._tokenStartColumn);return this.emitToken(t),t}emitEOF(){const t=this.column,e=this.line,n=this._factory.create(this._tokenFactorySourcePair,p.EOF,null,p.DEFAULT_CHANNEL,this._input.index,this._input.index-1,e,t);return this.emitToken(n),n}getCharIndex(){return this._input.index}getAllTokens(){const t=[];let e=this.nextToken();for(;e.type!==p.EOF;)t.push(e),e=this.nextToken();return t}notifyListeners(t){const e=this._tokenStartCharIndex,n=this._input.index,r=this._input.getText(e,n),i="token recognition error at: '"+this.getErrorDisplay(r)+"'";this.getErrorListener().syntaxError(this,null,this._tokenStartLine,this._tokenStartColumn,i,t)}getErrorDisplay(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n]);return e.join("")}getErrorDisplayForChar(t){return t.charCodeAt(0)===p.EOF?"<EOF>":t===`
`?"\\n":t==="	"?"\\t":t==="\r"?"\\r":t}getCharErrorDisplay(t){return"'"+this.getErrorDisplayForChar(t)+"'"}recover(t){this._input.LA(1)!==p.EOF&&(t instanceof $s?this._interp.consume(this._input):this._input.consume())}get inputStream(){return this._input}set inputStream(t){this._input=null,this._tokenFactorySourcePair=[this,this._input],this.reset(),this._input=t,this._tokenFactorySourcePair=[this,this._input]}get sourceName(){return this._input.sourceName}get type(){return this._type}set type(t){this._type=t}get line(){return this._interp.line}set line(t){this._interp.line=t}get column(){return this._interp.column}set column(t){this._interp.column=t}get text(){return this._text!==null?this._text:this._interp.getText(this._input)}set text(t){this._text=t}}function za(s){return s.hashCodeForConfigSet()}function Ba(s,t){return s===t||s!==null&&t!==null&&s.equalsForConfigSet(t)}W.DEFAULT_MODE=0,W.MORE=-2,W.SKIP=-3,W.DEFAULT_TOKEN_CHANNEL=p.DEFAULT_CHANNEL,W.HIDDEN=p.HIDDEN_CHANNEL,W.MIN_CHAR_VALUE=0,W.MAX_CHAR_VALUE=1114111;class mt{constructor(t){this.configLookup=new bt(za,Ba),this.fullCtx=t===void 0||t,this.readOnly=!1,this.configs=[],this.uniqueAlt=0,this.conflictingAlts=null,this.hasSemanticContext=!1,this.dipsIntoOuterContext=!1,this.cachedHashCode=-1}add(t,e){if(e===void 0&&(e=null),this.readOnly)throw"This set is readonly";t.semanticContext!==$.NONE&&(this.hasSemanticContext=!0),t.reachesIntoOuterContext>0&&(this.dipsIntoOuterContext=!0);const n=this.configLookup.getOrAdd(t);if(n===t)return this.cachedHashCode=-1,this.configs.push(t),!0;const r=!this.fullCtx,i=hs(n.context,t.context,r,e);return n.reachesIntoOuterContext=Math.max(n.reachesIntoOuterContext,t.reachesIntoOuterContext),t.precedenceFilterSuppressed&&(n.precedenceFilterSuppressed=!0),n.context=i,!0}getStates(){const t=new bt;for(let e=0;e<this.configs.length;e++)t.add(this.configs[e].state);return t}getPredicates(){const t=[];for(let e=0;e<this.configs.length;e++){const n=this.configs[e].semanticContext;n!==$.NONE&&t.push(n.semanticContext)}return t}optimizeConfigs(t){if(this.readOnly)throw"This set is readonly";if(this.configLookup.length!==0)for(let e=0;e<this.configs.length;e++){const n=this.configs[e];n.context=t.getCachedContext(n.context)}}addAll(t){for(let e=0;e<t.length;e++)this.add(t[e]);return!1}equals(t){return this===t||t instanceof mt&&Oe(this.configs,t.configs)&&this.fullCtx===t.fullCtx&&this.uniqueAlt===t.uniqueAlt&&this.conflictingAlts===t.conflictingAlts&&this.hasSemanticContext===t.hasSemanticContext&&this.dipsIntoOuterContext===t.dipsIntoOuterContext}hashCode(){const t=new Ot;return t.update(this.configs),t.finish()}updateHashCode(t){this.readOnly?(this.cachedHashCode===-1&&(this.cachedHashCode=this.hashCode()),t.update(this.cachedHashCode)):t.update(this.hashCode())}isEmpty(){return this.configs.length===0}contains(t){if(this.configLookup===null)throw"This method is not implemented for readonly sets.";return this.configLookup.contains(t)}containsFast(t){if(this.configLookup===null)throw"This method is not implemented for readonly sets.";return this.configLookup.containsFast(t)}clear(){if(this.readOnly)throw"This set is readonly";this.configs=[],this.cachedHashCode=-1,this.configLookup=new bt}setReadonly(t){this.readOnly=t,t&&(this.configLookup=null)}toString(){return Yt(this.configs)+(this.hasSemanticContext?",hasSemanticContext="+this.hasSemanticContext:"")+(this.uniqueAlt!==Y.INVALID_ALT_NUMBER?",uniqueAlt="+this.uniqueAlt:"")+(this.conflictingAlts!==null?",conflictingAlts="+this.conflictingAlts:"")+(this.dipsIntoOuterContext?",dipsIntoOuterContext":"")}get items(){return this.configs}get length(){return this.configs.length}}class jt{constructor(t,e){return t===null&&(t=-1),e===null&&(e=new mt),this.stateNumber=t,this.configs=e,this.edges=null,this.isAcceptState=!1,this.prediction=0,this.lexerActionExecutor=null,this.requiresFullContext=!1,this.predicates=null,this}getAltSet(){const t=new bt;if(this.configs!==null)for(let e=0;e<this.configs.length;e++){const n=this.configs[e];t.add(n.alt)}return t.length===0?null:t}equals(t){return this===t||t instanceof jt&&this.configs.equals(t.configs)}toString(){let t=this.stateNumber+":"+this.configs;return this.isAcceptState&&(t+="=>",this.predicates!==null?t+=this.predicates:t+=this.prediction),t}hashCode(){const t=new Ot;return t.update(this.configs),t.finish()}}class Bt{constructor(t,e){return this.atn=t,this.sharedContextCache=e,this}getCachedContext(t){if(this.sharedContextCache===null)return t;const e=new rn;return yi(t,this.sharedContextCache,e)}}Bt.ERROR=new jt(2147483647,new mt);class mr extends mt{constructor(){super(),this.configLookup=new bt}}class St extends et{constructor(t,e){super(t,e);const n=t.lexerActionExecutor||null;return this.lexerActionExecutor=n||(e!==null?e.lexerActionExecutor:null),this.passedThroughNonGreedyDecision=e!==null&&this.checkNonGreedyDecision(e,this.state),this.hashCodeForConfigSet=St.prototype.hashCode,this.equalsForConfigSet=St.prototype.equals,this}updateHashCode(t){t.update(this.state.stateNumber,this.alt,this.context,this.semanticContext,this.passedThroughNonGreedyDecision,this.lexerActionExecutor)}equals(t){return this===t||t instanceof St&&this.passedThroughNonGreedyDecision===t.passedThroughNonGreedyDecision&&(this.lexerActionExecutor?this.lexerActionExecutor.equals(t.lexerActionExecutor):!t.lexerActionExecutor)&&super.equals(t)}checkNonGreedyDecision(t,e){return t.passedThroughNonGreedyDecision||e instanceof De&&e.nonGreedy}}class Be extends Wt{constructor(t,e){super(e.actionType),this.offset=t,this.action=e,this.isPositionDependent=!0}execute(t){this.action.execute(t)}updateHashCode(t){t.update(this.actionType,this.offset,this.action)}equals(t){return this===t||t instanceof Be&&this.offset===t.offset&&this.action===t.action}}class Ee{constructor(t){return this.lexerActions=t===null?[]:t,this.cachedHashCode=Ot.hashStuff(t),this}fixOffsetBeforeMatch(t){let e=null;for(let n=0;n<this.lexerActions.length;n++)!this.lexerActions[n].isPositionDependent||this.lexerActions[n]instanceof Be||(e===null&&(e=this.lexerActions.concat([])),e[n]=new Be(t,this.lexerActions[n]));return e===null?this:new Ee(e)}execute(t,e,n){let r=!1;const i=e.index;try{for(let o=0;o<this.lexerActions.length;o++){let a=this.lexerActions[o];if(a instanceof Be){const l=a.offset;e.seek(n+l),a=a.action,r=n+l!==i}else a.isPositionDependent&&(e.seek(i),r=!1);a.execute(t)}}finally{r&&e.seek(i)}}hashCode(){return this.cachedHashCode}updateHashCode(t){t.update(this.cachedHashCode)}equals(t){if(this===t)return!0;if(t instanceof Ee){if(this.cachedHashCode!=t.cachedHashCode||this.lexerActions.length!=t.lexerActions.length)return!1;{const e=this.lexerActions.length;for(let n=0;n<e;++n)if(!this.lexerActions[n].equals(t.lexerActions[n]))return!1;return!0}}return!1}static append(t,e){if(t===null)return new Ee([e]);const n=t.lexerActions.concat([e]);return new Ee(n)}}function Tr(s){s.index=-1,s.line=0,s.column=-1,s.dfaState=null}class Ha{constructor(){Tr(this)}reset(){Tr(this)}}class j extends Bt{constructor(t,e,n,r){super(e,r),this.decisionToDFA=n,this.recog=t,this.startIndex=-1,this.line=1,this.column=0,this.mode=W.DEFAULT_MODE,this.prevAccept=new Ha}copyState(t){this.column=t.column,this.line=t.line,this.mode=t.mode,this.startIndex=t.startIndex}match(t,e){this.mode=e;const n=t.mark();try{this.startIndex=t.index,this.prevAccept.reset();const r=this.decisionToDFA[e];return r.s0===null?this.matchATN(t):this.execATN(t,r.s0)}finally{t.release(n)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this.line=1,this.column=0,this.mode=W.DEFAULT_MODE}matchATN(t){const e=this.atn.modeToStartState[this.mode];j.debug&&console.log("matchATN mode "+this.mode+" start: "+e);const n=this.mode,r=this.computeStartState(t,e),i=r.hasSemanticContext;r.hasSemanticContext=!1;const o=this.addDFAState(r);i||(this.decisionToDFA[this.mode].s0=o);const a=this.execATN(t,o);return j.debug&&console.log("DFA after matchATN: "+this.decisionToDFA[n].toLexerString()),a}execATN(t,e){j.debug&&console.log("start state closure="+e.configs),e.isAcceptState&&this.captureSimState(this.prevAccept,t,e);let n=t.LA(1),r=e;for(;;){j.debug&&console.log("execATN loop starting closure: "+r.configs);let i=this.getExistingTargetState(r,n);if(i===null&&(i=this.computeTargetState(t,r,n)),i===Bt.ERROR||(n!==p.EOF&&this.consume(t),i.isAcceptState&&(this.captureSimState(this.prevAccept,t,i),n===p.EOF)))break;n=t.LA(1),r=i}return this.failOrAccept(this.prevAccept,t,r.configs,n)}getExistingTargetState(t,e){if(t.edges===null||e<j.MIN_DFA_EDGE||e>j.MAX_DFA_EDGE)return null;let n=t.edges[e-j.MIN_DFA_EDGE];return n===void 0&&(n=null),j.debug&&n!==null&&console.log("reuse state "+t.stateNumber+" edge to "+n.stateNumber),n}computeTargetState(t,e,n){const r=new mr;return this.getReachableConfigSet(t,e.configs,r,n),r.items.length===0?(r.hasSemanticContext||this.addDFAEdge(e,n,Bt.ERROR),Bt.ERROR):this.addDFAEdge(e,n,null,r)}failOrAccept(t,e,n,r){if(this.prevAccept.dfaState!==null){const i=t.dfaState.lexerActionExecutor;return this.accept(e,i,this.startIndex,t.index,t.line,t.column),t.dfaState.prediction}if(r===p.EOF&&e.index===this.startIndex)return p.EOF;throw new $s(this.recog,e,this.startIndex,n)}getReachableConfigSet(t,e,n,r){let i=Y.INVALID_ALT_NUMBER;for(let o=0;o<e.items.length;o++){const a=e.items[o],l=a.alt===i;if(!l||!a.passedThroughNonGreedyDecision){j.debug&&console.log(`testing %s at %s
`,this.getTokenName(r),a.toString(this.recog,!0));for(let c=0;c<a.state.transitions.length;c++){const u=a.state.transitions[c],d=this.getReachableTarget(u,r);if(d!==null){let h=a.lexerActionExecutor;h!==null&&(h=h.fixOffsetBeforeMatch(t.index-this.startIndex));const g=r===p.EOF,f=new St({state:d,lexerActionExecutor:h},a);this.closure(t,f,n,l,!0,g)&&(i=a.alt)}}}}}accept(t,e,n,r,i,o){j.debug&&console.log(`ACTION %s
`,e),t.seek(r),this.line=i,this.column=o,e!==null&&this.recog!==null&&e.execute(this.recog,t,n)}getReachableTarget(t,e){return t.matches(e,0,W.MAX_CHAR_VALUE)?t.target:null}computeStartState(t,e){const n=w.EMPTY,r=new mr;for(let i=0;i<e.transitions.length;i++){const o=e.transitions[i].target,a=new St({state:o,alt:i+1,context:n},null);this.closure(t,a,r,!1,!1,!1)}return r}closure(t,e,n,r,i,o){let a=null;if(j.debug&&console.log("closure("+e.toString(this.recog,!0)+")"),e.state instanceof Et){if(j.debug&&(this.recog!==null?console.log(`closure at %s rule stop %s
`,this.recog.ruleNames[e.state.ruleIndex],e):console.log(`closure at rule stop %s
`,e)),e.context===null||e.context.hasEmptyPath()){if(e.context===null||e.context.isEmpty())return n.add(e),!0;n.add(new St({state:e.state,context:w.EMPTY},e)),r=!0}if(e.context!==null&&!e.context.isEmpty()){for(let l=0;l<e.context.length;l++)if(e.context.getReturnState(l)!==w.EMPTY_RETURN_STATE){const c=e.context.getParent(l),u=this.atn.states[e.context.getReturnState(l)];a=new St({state:u,context:c},e),r=this.closure(t,a,n,r,i,o)}}return r}e.state.epsilonOnlyTransitions||r&&e.passedThroughNonGreedyDecision||n.add(e);for(let l=0;l<e.state.transitions.length;l++){const c=e.state.transitions[l];a=this.getEpsilonTarget(t,e,c,n,i,o),a!==null&&(r=this.closure(t,a,n,r,i,o))}return r}getEpsilonTarget(t,e,n,r,i,o){let a=null;if(n.serializationType===x.RULE){const l=Tt.create(e.context,n.followState.stateNumber);a=new St({state:n.target,context:l},e)}else{if(n.serializationType===x.PRECEDENCE)throw"Precedence predicates are not supported in lexers.";if(n.serializationType===x.PREDICATE)j.debug&&console.log("EVAL rule "+n.ruleIndex+":"+n.predIndex),r.hasSemanticContext=!0,this.evaluatePredicate(t,n.ruleIndex,n.predIndex,i)&&(a=new St({state:n.target},e));else if(n.serializationType===x.ACTION)if(e.context===null||e.context.hasEmptyPath()){const l=Ee.append(e.lexerActionExecutor,this.atn.lexerActions[n.actionIndex]);a=new St({state:n.target,lexerActionExecutor:l},e)}else a=new St({state:n.target},e);else n.serializationType===x.EPSILON?a=new St({state:n.target},e):n.serializationType!==x.ATOM&&n.serializationType!==x.RANGE&&n.serializationType!==x.SET||o&&n.matches(p.EOF,0,W.MAX_CHAR_VALUE)&&(a=new St({state:n.target},e))}return a}evaluatePredicate(t,e,n,r){if(this.recog===null)return!0;if(!r)return this.recog.sempred(null,e,n);const i=this.column,o=this.line,a=t.index,l=t.mark();try{return this.consume(t),this.recog.sempred(null,e,n)}finally{this.column=i,this.line=o,t.seek(a),t.release(l)}}captureSimState(t,e,n){t.index=e.index,t.line=this.line,t.column=this.column,t.dfaState=n}addDFAEdge(t,e,n,r){if(n===void 0&&(n=null),r===void 0&&(r=null),n===null&&r!==null){const i=r.hasSemanticContext;if(r.hasSemanticContext=!1,n=this.addDFAState(r),i)return n}return e<j.MIN_DFA_EDGE||e>j.MAX_DFA_EDGE||(j.debug&&console.log("EDGE "+t+" -> "+n+" upon "+e),t.edges===null&&(t.edges=[]),t.edges[e-j.MIN_DFA_EDGE]=n),n}addDFAState(t){const e=new jt(null,t);let n=null;for(let a=0;a<t.items.length;a++){const l=t.items[a];if(l.state instanceof Et){n=l;break}}n!==null&&(e.isAcceptState=!0,e.lexerActionExecutor=n.lexerActionExecutor,e.prediction=this.atn.ruleToTokenType[n.state.ruleIndex]);const r=this.decisionToDFA[this.mode],i=r.states.get(e);if(i!==null)return i;const o=e;return o.stateNumber=r.states.length,t.setReadonly(!0),o.configs=t,r.states.add(o),o}getDFA(t){return this.decisionToDFA[t]}getText(t){return t.getText(this.startIndex,t.index-1)}consume(t){t.LA(1)===10?(this.line+=1,this.column=0):this.column+=1,t.consume()}getTokenName(t){return t===-1?"EOF":"'"+String.fromCharCode(t)+"'"}}j.debug=!1,j.dfa_debug=!1,j.MIN_DFA_EDGE=0,j.MAX_DFA_EDGE=127;class Ci{constructor(t,e){this.alt=e,this.pred=t}toString(){return"("+this.pred+", "+this.alt+")"}}class Va{constructor(){this.data={}}get(t){return this.data["k-"+t]||null}set(t,e){this.data["k-"+t]=e}values(){return Object.keys(this.data).filter(t=>t.startsWith("k-")).map(t=>this.data[t],this)}}const Ft={SLL:0,LL:1,LL_EXACT_AMBIG_DETECTION:2,hasSLLConflictTerminatingPrediction:function(s,t){if(Ft.allConfigsInRuleStopStates(t))return!0;if(s===Ft.SLL&&t.hasSemanticContext){const n=new mt;for(let r=0;r<t.items.length;r++){let i=t.items[r];i=new et({semanticContext:$.NONE},i),n.add(i)}t=n}const e=Ft.getConflictingAltSubsets(t);return Ft.hasConflictingAltSet(e)&&!Ft.hasStateAssociatedWithOneAlt(t)},hasConfigInRuleStopState:function(s){for(let t=0;t<s.items.length;t++)if(s.items[t].state instanceof Et)return!0;return!1},allConfigsInRuleStopStates:function(s){for(let t=0;t<s.items.length;t++)if(!(s.items[t].state instanceof Et))return!1;return!0},resolvesToJustOneViableAlt:function(s){return Ft.getSingleViableAlt(s)},allSubsetsConflict:function(s){return!Ft.hasNonConflictingAltSet(s)},hasNonConflictingAltSet:function(s){for(let t=0;t<s.length;t++)if(s[t].length===1)return!0;return!1},hasConflictingAltSet:function(s){for(let t=0;t<s.length;t++)if(s[t].length>1)return!0;return!1},allSubsetsEqual:function(s){let t=null;for(let e=0;e<s.length;e++){const n=s[e];if(t===null)t=n;else if(n!==t)return!1}return!0},getUniqueAlt:function(s){const t=Ft.getAlts(s);return t.length===1?t.minValue():Y.INVALID_ALT_NUMBER},getAlts:function(s){const t=new xt;return s.map(function(e){t.or(e)}),t},getConflictingAltSubsets:function(s){const t=new rn;return t.hashFunction=function(e){Ot.hashStuff(e.state.stateNumber,e.context)},t.equalsFunction=function(e,n){return e.state.stateNumber===n.state.stateNumber&&e.context.equals(n.context)},s.items.map(function(e){let n=t.get(e);n===null&&(n=new xt,t.set(e,n)),n.set(e.alt)}),t.getValues()},getStateToAltMap:function(s){const t=new Va;return s.items.map(function(e){let n=t.get(e.state);n===null&&(n=new xt,t.set(e.state,n)),n.set(e.alt)}),t},hasStateAssociatedWithOneAlt:function(s){const t=Ft.getStateToAltMap(s).values();for(let e=0;e<t.length;e++)if(t[e].length===1)return!0;return!1},getSingleViableAlt:function(s){let t=null;for(let e=0;e<s.length;e++){const n=s[e].minValue();if(t===null)t=n;else if(t!==n)return Y.INVALID_ALT_NUMBER}return t}},lt=Ft;class qn extends Zt{constructor(t,e,n,r,i,o){o=o||t._ctx,r=r||t.getCurrentToken(),n=n||t.getCurrentToken(),e=e||t.getInputStream(),super({message:"",recognizer:t,input:e,ctx:o}),this.deadEndConfigs=i,this.startToken=n,this.offendingToken=r}}class Ga{constructor(t){this.defaultMapCtor=t||rn,this.cacheMap=new this.defaultMapCtor}get(t,e){const n=this.cacheMap.get(t)||null;return n===null?null:n.get(e)||null}set(t,e,n){let r=this.cacheMap.get(t)||null;r===null&&(r=new this.defaultMapCtor,this.cacheMap.set(t,r)),r.set(e,n)}}class Ni extends Bt{constructor(t,e,n,r){super(e,r),this.parser=t,this.decisionToDFA=n,this.predictionMode=lt.LL,this._input=null,this._startIndex=0,this._outerContext=null,this._dfa=null,this.mergeCache=null,this.debug=!1,this.debug_closure=!1,this.debug_add=!1,this.trace_atn_sim=!1,this.dfa_debug=!1,this.retry_debug=!1}reset(){}adaptivePredict(t,e,n){(this.debug||this.trace_atn_sim)&&console.log("adaptivePredict decision "+e+" exec LA(1)=="+this.getLookaheadName(t)+" line "+t.LT(1).line+":"+t.LT(1).column),this._input=t,this._startIndex=t.index,this._outerContext=n;const r=this.decisionToDFA[e];this._dfa=r;const i=t.mark(),o=t.index;try{let a;if(a=r.precedenceDfa?r.getPrecedenceStartState(this.parser.getPrecedence()):r.s0,a===null){n===null&&(n=he.EMPTY),this.debug&&console.log("predictATN decision "+r.decision+" exec LA(1)=="+this.getLookaheadName(t)+", outerContext="+n.toString(this.parser.ruleNames));let u=this.computeStartState(r.atnStartState,he.EMPTY,!1);r.precedenceDfa?(r.s0.configs=u,u=this.applyPrecedenceFilter(u),a=this.addDFAState(r,new jt(null,u)),r.setPrecedenceStartState(this.parser.getPrecedence(),a)):(a=this.addDFAState(r,new jt(null,u)),r.s0=a)}const l=this.execATN(r,a,t,o,n);return this.debug&&console.log("DFA after predictATN: "+r.toString(this.parser.literalNames,this.parser.symbolicNames)),l}finally{this._dfa=null,this.mergeCache=null,t.seek(o),t.release(i)}}execATN(t,e,n,r,i){let o;(this.debug||this.trace_atn_sim)&&console.log("execATN decision "+t.decision+", DFA state "+e+", LA(1)=="+this.getLookaheadName(n)+" line "+n.LT(1).line+":"+n.LT(1).column);let a=e;this.debug&&console.log("s0 = "+e);let l=n.LA(1);for(;;){let c=this.getExistingTargetState(a,l);if(c===null&&(c=this.computeTargetState(t,a,l)),c===Bt.ERROR){const u=this.noViableAlt(n,i,a.configs,r);if(n.seek(r),o=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(a.configs,i),o!==Y.INVALID_ALT_NUMBER)return o;throw u}if(c.requiresFullContext&&this.predictionMode!==lt.SLL){let u=null;if(c.predicates!==null){this.debug&&console.log("DFA state has preds in DFA sim LL failover");const g=n.index;if(g!==r&&n.seek(r),u=this.evalSemanticContext(c.predicates,i,!0),u.length===1)return this.debug&&console.log("Full LL avoided"),u.minValue();g!==r&&n.seek(g)}this.dfa_debug&&console.log("ctx sensitive state "+i+" in "+c);const d=!0,h=this.computeStartState(t.atnStartState,i,d);return this.reportAttemptingFullContext(t,u,c.configs,r,n.index),o=this.execATNWithFullContext(t,c,h,n,r,i),o}if(c.isAcceptState){if(c.predicates===null)return c.prediction;const u=n.index;n.seek(r);const d=this.evalSemanticContext(c.predicates,i,!0);if(d.length===0)throw this.noViableAlt(n,i,c.configs,r);return d.length===1||this.reportAmbiguity(t,c,r,u,!1,d,c.configs),d.minValue()}a=c,l!==p.EOF&&(n.consume(),l=n.LA(1))}}getExistingTargetState(t,e){const n=t.edges;return n===null?null:n[e+1]||null}computeTargetState(t,e,n){const r=this.computeReachSet(e.configs,n,!1);if(r===null)return this.addDFAEdge(t,e,n,Bt.ERROR),Bt.ERROR;let i=new jt(null,r);const o=this.getUniqueAlt(r);if(this.debug){const a=lt.getConflictingAltSubsets(r);console.log("SLL altSubSets="+Yt(a)+", configs="+r+", predict="+o+", allSubsetsConflict="+lt.allSubsetsConflict(a)+", conflictingAlts="+this.getConflictingAlts(r))}return o!==Y.INVALID_ALT_NUMBER?(i.isAcceptState=!0,i.configs.uniqueAlt=o,i.prediction=o):lt.hasSLLConflictTerminatingPrediction(this.predictionMode,r)&&(i.configs.conflictingAlts=this.getConflictingAlts(r),i.requiresFullContext=!0,i.isAcceptState=!0,i.prediction=i.configs.conflictingAlts.minValue()),i.isAcceptState&&i.configs.hasSemanticContext&&(this.predicateDFAState(i,this.atn.getDecisionState(t.decision)),i.predicates!==null&&(i.prediction=Y.INVALID_ALT_NUMBER)),i=this.addDFAEdge(t,e,n,i),i}predicateDFAState(t,e){const n=e.transitions.length,r=this.getConflictingAltsOrUniqueAlt(t.configs),i=this.getPredsForAmbigAlts(r,t.configs,n);i!==null?(t.predicates=this.getPredicatePredictions(r,i),t.prediction=Y.INVALID_ALT_NUMBER):t.prediction=r.minValue()}execATNWithFullContext(t,e,n,r,i,o){(this.debug||this.trace_atn_sim)&&console.log("execATNWithFullContext "+n);let a,l=!1,c=n;r.seek(i);let u=r.LA(1),d=-1;for(;;){if(a=this.computeReachSet(c,u,!0),a===null){const g=this.noViableAlt(r,o,c,i);r.seek(i);const f=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(c,o);if(f!==Y.INVALID_ALT_NUMBER)return f;throw g}const h=lt.getConflictingAltSubsets(a);if(this.debug&&console.log("LL altSubSets="+h+", predict="+lt.getUniqueAlt(h)+", resolvesToJustOneViableAlt="+lt.resolvesToJustOneViableAlt(h)),a.uniqueAlt=this.getUniqueAlt(a),a.uniqueAlt!==Y.INVALID_ALT_NUMBER){d=a.uniqueAlt;break}if(this.predictionMode!==lt.LL_EXACT_AMBIG_DETECTION){if(d=lt.resolvesToJustOneViableAlt(h),d!==Y.INVALID_ALT_NUMBER)break}else if(lt.allSubsetsConflict(h)&&lt.allSubsetsEqual(h)){l=!0,d=lt.getSingleViableAlt(h);break}c=a,u!==p.EOF&&(r.consume(),u=r.LA(1))}return a.uniqueAlt!==Y.INVALID_ALT_NUMBER?(this.reportContextSensitivity(t,d,a,i,r.index),d):(this.reportAmbiguity(t,e,i,r.index,l,null,a),d)}computeReachSet(t,e,n){this.debug&&console.log("in computeReachSet, starting closure: "+t),this.mergeCache===null&&(this.mergeCache=new Ga);const r=new mt(n);let i=null;for(let a=0;a<t.items.length;a++){const l=t.items[a];if(this.debug&&console.log("testing "+this.getTokenName(e)+" at "+l),l.state instanceof Et)(n||e===p.EOF)&&(i===null&&(i=[]),i.push(l),this.debug_add&&console.log("added "+l+" to skippedStopStates"));else for(let c=0;c<l.state.transitions.length;c++){const u=l.state.transitions[c],d=this.getReachableTarget(u,e);if(d!==null){const h=new et({state:d},l);r.add(h,this.mergeCache),this.debug_add&&console.log("added "+h+" to intermediate")}}}let o=null;if(i===null&&e!==p.EOF&&(r.items.length===1||this.getUniqueAlt(r)!==Y.INVALID_ALT_NUMBER)&&(o=r),o===null){o=new mt(n);const a=new bt,l=e===p.EOF;for(let c=0;c<r.items.length;c++)this.closure(r.items[c],o,a,!1,n,l)}if(e===p.EOF&&(o=this.removeAllConfigsNotInRuleStopState(o,o===r)),!(i===null||n&&lt.hasConfigInRuleStopState(o)))for(let a=0;a<i.length;a++)o.add(i[a],this.mergeCache);return this.trace_atn_sim&&console.log("computeReachSet "+t+" -> "+o),o.items.length===0?null:o}removeAllConfigsNotInRuleStopState(t,e){if(lt.allConfigsInRuleStopStates(t))return t;const n=new mt(t.fullCtx);for(let r=0;r<t.items.length;r++){const i=t.items[r];if(i.state instanceof Et)n.add(i,this.mergeCache);else if(e&&i.state.epsilonOnlyTransitions&&this.atn.nextTokens(i.state).contains(p.EPSILON)){const o=this.atn.ruleToStopState[i.state.ruleIndex];n.add(new et({state:o},i),this.mergeCache)}}return n}computeStartState(t,e,n){const r=Ds(this.atn,e),i=new mt(n);this.trace_atn_sim&&console.log("computeStartState from ATN state "+t+" initialContext="+r.toString(this.parser));for(let o=0;o<t.transitions.length;o++){const a=t.transitions[o].target,l=new et({state:a,alt:o+1,context:r},null),c=new bt;this.closure(l,i,c,!0,n,!1)}return i}applyPrecedenceFilter(t){let e;const n=[],r=new mt(t.fullCtx);for(let i=0;i<t.items.length;i++){if(e=t.items[i],e.alt!==1)continue;const o=e.semanticContext.evalPrecedence(this.parser,this._outerContext);o!==null&&(n[e.state.stateNumber]=e.context,o!==e.semanticContext?r.add(new et({semanticContext:o},e),this.mergeCache):r.add(e,this.mergeCache))}for(let i=0;i<t.items.length;i++)if(e=t.items[i],e.alt!==1){if(!e.precedenceFilterSuppressed){const o=n[e.state.stateNumber]||null;if(o!==null&&o.equals(e.context))continue}r.add(e,this.mergeCache)}return r}getReachableTarget(t,e){return t.matches(e,0,this.atn.maxTokenType)?t.target:null}getPredsForAmbigAlts(t,e,n){let r=[];for(let o=0;o<e.items.length;o++){const a=e.items[o];t.get(a.alt)&&(r[a.alt]=$.orContext(r[a.alt]||null,a.semanticContext))}let i=0;for(let o=1;o<n+1;o++){const a=r[o]||null;a===null?r[o]=$.NONE:a!==$.NONE&&(i+=1)}return i===0&&(r=null),this.debug&&console.log("getPredsForAmbigAlts result "+Yt(r)),r}getPredicatePredictions(t,e){const n=[];let r=!1;for(let i=1;i<e.length;i++){const o=e[i];t!==null&&t.get(i)&&n.push(new Ci(o,i)),o!==$.NONE&&(r=!0)}return r?n:null}getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(t,e){const n=this.splitAccordingToSemanticValidity(t,e),r=n[0],i=n[1];let o=this.getAltThatFinishedDecisionEntryRule(r);return o!==Y.INVALID_ALT_NUMBER||i.items.length>0&&(o=this.getAltThatFinishedDecisionEntryRule(i),o!==Y.INVALID_ALT_NUMBER)?o:Y.INVALID_ALT_NUMBER}getAltThatFinishedDecisionEntryRule(t){const e=[];for(let n=0;n<t.items.length;n++){const r=t.items[n];(r.reachesIntoOuterContext>0||r.state instanceof Et&&r.context.hasEmptyPath())&&e.indexOf(r.alt)<0&&e.push(r.alt)}return e.length===0?Y.INVALID_ALT_NUMBER:Math.min.apply(null,e)}splitAccordingToSemanticValidity(t,e){const n=new mt(t.fullCtx),r=new mt(t.fullCtx);for(let i=0;i<t.items.length;i++){const o=t.items[i];o.semanticContext!==$.NONE?o.semanticContext.evaluate(this.parser,e)?n.add(o):r.add(o):n.add(o)}return[n,r]}evalSemanticContext(t,e,n){const r=new xt;for(let i=0;i<t.length;i++){const o=t[i];if(o.pred===$.NONE){if(r.set(o.alt),!n)break;continue}const a=o.pred.evaluate(this.parser,e);if((this.debug||this.dfa_debug)&&console.log("eval pred "+o+"="+a),a&&((this.debug||this.dfa_debug)&&console.log("PREDICT "+o.alt),r.set(o.alt),!n))break}return r}closure(t,e,n,r,i,o){this.closureCheckingStopState(t,e,n,r,i,0,o)}closureCheckingStopState(t,e,n,r,i,o,a){if((this.trace_atn_sim||this.debug_closure)&&console.log("closure("+t.toString(this.parser,!0)+")"),t.state instanceof Et){if(!t.context.isEmpty()){for(let l=0;l<t.context.length;l++){if(t.context.getReturnState(l)===w.EMPTY_RETURN_STATE){if(i){e.add(new et({state:t.state,context:w.EMPTY},t),this.mergeCache);continue}this.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex)),this.closure_(t,e,n,r,i,o,a);continue}const c=this.atn.states[t.context.getReturnState(l)],u=t.context.getParent(l),d={state:c,alt:t.alt,context:u,semanticContext:t.semanticContext},h=new et(d,null);h.reachesIntoOuterContext=t.reachesIntoOuterContext,this.closureCheckingStopState(h,e,n,r,i,o-1,a)}return}if(i)return void e.add(t,this.mergeCache);this.debug&&console.log("FALLING off rule "+this.getRuleName(t.state.ruleIndex))}this.closure_(t,e,n,r,i,o,a)}closure_(t,e,n,r,i,o,a){const l=t.state;l.epsilonOnlyTransitions||e.add(t,this.mergeCache);for(let c=0;c<l.transitions.length;c++){if(c===0&&this.canDropLoopEntryEdgeInLeftRecursiveRule(t))continue;const u=l.transitions[c],d=r&&!(u instanceof Ai),h=this.getEpsilonTarget(t,u,d,o===0,i,a);if(h!==null){let g=o;if(t.state instanceof Et){if(this._dfa!==null&&this._dfa.precedenceDfa&&u.outermostPrecedenceReturn===this._dfa.atnStartState.ruleIndex&&(h.precedenceFilterSuppressed=!0),h.reachesIntoOuterContext+=1,n.getOrAdd(h)!==h)continue;e.dipsIntoOuterContext=!0,g-=1,this.debug&&console.log("dips into outer ctx: "+h)}else{if(!u.isEpsilon&&n.getOrAdd(h)!==h)continue;u instanceof In&&g>=0&&(g+=1)}this.closureCheckingStopState(h,e,n,d,i,g,a)}}}canDropLoopEntryEdgeInLeftRecursiveRule(t){const e=t.state;if(e.stateType!==_.STAR_LOOP_ENTRY||e.stateType!==_.STAR_LOOP_ENTRY||!e.isPrecedenceDecision||t.context.isEmpty()||t.context.hasEmptyPath())return!1;const n=t.context.length;for(let o=0;o<n;o++)if(this.atn.states[t.context.getReturnState(o)].ruleIndex!==e.ruleIndex)return!1;const r=e.transitions[0].target.endState.stateNumber,i=this.atn.states[r];for(let o=0;o<n;o++){const a=t.context.getReturnState(o),l=this.atn.states[a];if(l.transitions.length!==1||!l.transitions[0].isEpsilon)return!1;const c=l.transitions[0].target;if(!(l.stateType===_.BLOCK_END&&c===e||l===i||c===i||c.stateType===_.BLOCK_END&&c.transitions.length===1&&c.transitions[0].isEpsilon&&c.transitions[0].target===e))return!1}return!0}getRuleName(t){return this.parser!==null&&t>=0?this.parser.ruleNames[t]:"<rule "+t+">"}getEpsilonTarget(t,e,n,r,i,o){switch(e.serializationType){case x.RULE:return this.ruleTransition(t,e);case x.PRECEDENCE:return this.precedenceTransition(t,e,n,r,i);case x.PREDICATE:return this.predTransition(t,e,n,r,i);case x.ACTION:return this.actionTransition(t,e);case x.EPSILON:return new et({state:e.target},t);case x.ATOM:case x.RANGE:case x.SET:return o&&e.matches(p.EOF,0,1)?new et({state:e.target},t):null;default:return null}}actionTransition(t,e){if(this.debug){const n=e.actionIndex===-1?65535:e.actionIndex;console.log("ACTION edge "+e.ruleIndex+":"+n)}return new et({state:e.target},t)}precedenceTransition(t,e,n,r,i){this.debug&&(console.log("PRED (collectPredicates="+n+") "+e.precedence+">=_p, ctx dependent=true"),this.parser!==null&&console.log("context surrounding pred is "+Yt(this.parser.getRuleInvocationStack())));let o=null;if(n&&r)if(i){const a=this._input.index;this._input.seek(this._startIndex);const l=e.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(a),l&&(o=new et({state:e.target},t))}else{const a=$.andContext(t.semanticContext,e.getPredicate());o=new et({state:e.target,semanticContext:a},t)}else o=new et({state:e.target},t);return this.debug&&console.log("config from pred transition="+o),o}predTransition(t,e,n,r,i){this.debug&&(console.log("PRED (collectPredicates="+n+") "+e.ruleIndex+":"+e.predIndex+", ctx dependent="+e.isCtxDependent),this.parser!==null&&console.log("context surrounding pred is "+Yt(this.parser.getRuleInvocationStack())));let o=null;if(n&&(e.isCtxDependent&&r||!e.isCtxDependent))if(i){const a=this._input.index;this._input.seek(this._startIndex);const l=e.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(a),l&&(o=new et({state:e.target},t))}else{const a=$.andContext(t.semanticContext,e.getPredicate());o=new et({state:e.target,semanticContext:a},t)}else o=new et({state:e.target},t);return this.debug&&console.log("config from pred transition="+o),o}ruleTransition(t,e){this.debug&&console.log("CALL rule "+this.getRuleName(e.target.ruleIndex)+", ctx="+t.context);const n=e.followState,r=Tt.create(t.context,n.stateNumber);return new et({state:e.target,context:r},t)}getConflictingAlts(t){const e=lt.getConflictingAltSubsets(t);return lt.getAlts(e)}getConflictingAltsOrUniqueAlt(t){let e=null;return t.uniqueAlt!==Y.INVALID_ALT_NUMBER?(e=new xt,e.set(t.uniqueAlt)):e=t.conflictingAlts,e}getTokenName(t){if(t===p.EOF)return"EOF";if(this.parser!==null&&this.parser.literalNames!==null){if(!(t>=this.parser.literalNames.length&&t>=this.parser.symbolicNames.length))return(this.parser.literalNames[t]||this.parser.symbolicNames[t])+"<"+t+">";console.log(t+" ttype out of range: "+this.parser.literalNames),console.log(""+this.parser.getInputStream().getTokens())}return""+t}getLookaheadName(t){return this.getTokenName(t.LA(1))}dumpDeadEndConfigs(t){console.log("dead end configs: ");const e=t.getDeadEndConfigs();for(let n=0;n<e.length;n++){const r=e[n];let i="no edges";if(r.state.transitions.length>0){const o=r.state.transitions[0];o instanceof ds?i="Atom "+this.getTokenName(o.label):o instanceof Os&&(i=(o instanceof ws?"~":"")+"Set "+o.set)}console.error(r.toString(this.parser,!0)+":"+i)}}noViableAlt(t,e,n,r){return new qn(this.parser,t,t.get(r),t.LT(1),n,e)}getUniqueAlt(t){let e=Y.INVALID_ALT_NUMBER;for(let n=0;n<t.items.length;n++){const r=t.items[n];if(e===Y.INVALID_ALT_NUMBER)e=r.alt;else if(r.alt!==e)return Y.INVALID_ALT_NUMBER}return e}addDFAEdge(t,e,n,r){if(this.debug&&console.log("EDGE "+e+" -> "+r+" upon "+this.getTokenName(n)),r===null)return null;if(r=this.addDFAState(t,r),e===null||n<-1||n>this.atn.maxTokenType)return r;if(e.edges===null&&(e.edges=[]),e.edges[n+1]=r,this.debug){const i=this.parser===null?null:this.parser.literalNames,o=this.parser===null?null:this.parser.symbolicNames;console.log(`DFA=
`+t.toString(i,o))}return r}addDFAState(t,e){if(e===Bt.ERROR)return e;const n=t.states.get(e);return n!==null?(this.trace_atn_sim&&console.log("addDFAState "+e+" exists"),n):(e.stateNumber=t.states.length,e.configs.readOnly||(e.configs.optimizeConfigs(this),e.configs.setReadonly(!0)),this.trace_atn_sim&&console.log("addDFAState new "+e),t.states.add(e),this.debug&&console.log("adding new DFA state: "+e),e)}reportAttemptingFullContext(t,e,n,r,i){if(this.debug||this.retry_debug){const o=new L(r,i+1);console.log("reportAttemptingFullContext decision="+t.decision+":"+n+", input="+this.parser.getTokenStream().getText(o))}this.parser!==null&&this.parser.getErrorListener().reportAttemptingFullContext(this.parser,t,r,i,e,n)}reportContextSensitivity(t,e,n,r,i){if(this.debug||this.retry_debug){const o=new L(r,i+1);console.log("reportContextSensitivity decision="+t.decision+":"+n+", input="+this.parser.getTokenStream().getText(o))}this.parser!==null&&this.parser.getErrorListener().reportContextSensitivity(this.parser,t,r,i,e,n)}reportAmbiguity(t,e,n,r,i,o,a){if(this.debug||this.retry_debug){const l=new L(n,r+1);console.log("reportAmbiguity "+o+":"+a+", input="+this.parser.getTokenStream().getText(l))}this.parser!==null&&this.parser.getErrorListener().reportAmbiguity(this.parser,t,n,r,i,o,a)}}class Ii{constructor(){this.cache=new rn}add(t){if(t===w.EMPTY)return w.EMPTY;const e=this.cache.get(t)||null;return e!==null?e:(this.cache.set(t,t),t)}get(t){return this.cache.get(t)||null}get length(){return this.cache.length}}const qa={ATN:Y,ATNDeserializer:Us,LexerATNSimulator:j,ParserATNSimulator:Ni,PredictionMode:lt,PredictionContextCache:Ii};class zs{constructor(t,e,n){this.dfa=t,this.literalNames=e||[],this.symbolicNames=n||[]}toString(){if(this.dfa.s0===null)return null;let t="";const e=this.dfa.sortedStates();for(let n=0;n<e.length;n++){const r=e[n];if(r.edges!==null){const i=r.edges.length;for(let o=0;o<i;o++){const a=r.edges[o]||null;a!==null&&a.stateNumber!==2147483647&&(t=t.concat(this.getStateString(r)),t=t.concat("-"),t=t.concat(this.getEdgeLabel(o)),t=t.concat("->"),t=t.concat(this.getStateString(a)),t=t.concat(`
`))}}}return t.length===0?null:t}getEdgeLabel(t){return t===0?"EOF":this.literalNames!==null||this.symbolicNames!==null?this.literalNames[t-1]||this.symbolicNames[t-1]:String.fromCharCode(t-1)}getStateString(t){const e=(t.isAcceptState?":":"")+"s"+t.stateNumber+(t.requiresFullContext?"^":"");return t.isAcceptState?t.predicates!==null?e+"=>"+Yt(t.predicates):e+"=>"+t.prediction.toString():e}}class bi extends zs{constructor(t){super(t,null)}getEdgeLabel(t){return"'"+String.fromCharCode(t)+"'"}}class Oi{constructor(t,e){if(e===void 0&&(e=0),this.atnStartState=t,this.decision=e,this._states=new bt,this.s0=null,this.precedenceDfa=!1,t instanceof ie&&t.isPrecedenceDecision){this.precedenceDfa=!0;const n=new jt(null,new mt);n.edges=[],n.isAcceptState=!1,n.requiresFullContext=!1,this.s0=n}}getPrecedenceStartState(t){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";return t<0||t>=this.s0.edges.length?null:this.s0.edges[t]||null}setPrecedenceStartState(t,e){if(!this.precedenceDfa)throw"Only precedence DFAs may contain a precedence start state.";t<0||(this.s0.edges[t]=e)}setPrecedenceDfa(t){if(this.precedenceDfa!==t){if(this._states=new bt,t){const e=new jt(null,new mt);e.edges=[],e.isAcceptState=!1,e.requiresFullContext=!1,this.s0=e}else this.s0=null;this.precedenceDfa=t}}sortedStates(){return this._states.values().sort(function(t,e){return t.stateNumber-e.stateNumber})}toString(t,e){return t=t||null,e=e||null,this.s0===null?"":new zs(this,t,e).toString()}toLexerString(){return this.s0===null?"":new bi(this).toString()}get states(){return this._states}}const Ya={DFA:Oi,DFASerializer:zs,LexerDFASerializer:bi,PredPrediction:Ci},Ka={PredictionContext:w},ja={Interval:L,IntervalSet:vt};class Bs{visitTerminal(t){}visitErrorNode(t){}enterEveryRule(t){}exitEveryRule(t){}}class wi{visit(t){return Array.isArray(t)?t.map(function(e){return e.accept(this)},this):t.accept(this)}visitChildren(t){return t.children?this.visit(t.children):null}visitTerminal(t){}visitErrorNode(t){}}class On{walk(t,e){if(e instanceof Hn||e.isErrorNode!==void 0&&e.isErrorNode())t.visitErrorNode(e);else if(e instanceof Vt)t.visitTerminal(e);else{this.enterRule(t,e);for(let n=0;n<e.getChildCount();n++){const r=e.getChild(n);this.walk(t,r)}this.exitRule(t,e)}}enterRule(t,e){const n=e.ruleContext;t.enterEveryRule(n),n.enterRule(t)}exitRule(t,e){const n=e.ruleContext;n.exitRule(t),t.exitEveryRule(n)}}On.DEFAULT=new On;const Wa={Trees:Si,RuleNode:Ye,ErrorNode:Hn,TerminalNode:Vt,ParseTreeListener:Bs,ParseTreeVisitor:wi,ParseTreeWalker:On};class Ce extends Zt{constructor(t){super({message:"",recognizer:t,input:t.getInputStream(),ctx:t._ctx}),this.offendingToken=t.getCurrentToken()}}class Hs extends Zt{constructor(t,e,n){super({message:Za(e,n||null),recognizer:t,input:t.getInputStream(),ctx:t._ctx});const r=t._interp.atn.states[t.state].transitions[0];r instanceof vi?(this.ruleIndex=r.ruleIndex,this.predicateIndex=r.predIndex):(this.ruleIndex=0,this.predicateIndex=0),this.predicate=e,this.offendingToken=t.getCurrentToken()}}function Za(s,t){return t!==null?t:"failed predicate: {"+s+"}?"}class ki extends on{constructor(t){super(),t=t||!0,this.exactOnly=t}reportAmbiguity(t,e,n,r,i,o,a){if(this.exactOnly&&!i)return;const l="reportAmbiguity d="+this.getDecisionDescription(t,e)+": ambigAlts="+this.getConflictingAlts(o,a)+", input='"+t.getTokenStream().getText(new L(n,r))+"'";t.notifyErrorListeners(l)}reportAttemptingFullContext(t,e,n,r,i,o){const a="reportAttemptingFullContext d="+this.getDecisionDescription(t,e)+", input='"+t.getTokenStream().getText(new L(n,r))+"'";t.notifyErrorListeners(a)}reportContextSensitivity(t,e,n,r,i,o){const a="reportContextSensitivity d="+this.getDecisionDescription(t,e)+", input='"+t.getTokenStream().getText(new L(n,r))+"'";t.notifyErrorListeners(a)}getDecisionDescription(t,e){const n=e.decision,r=e.atnStartState.ruleIndex,i=t.ruleNames;if(r<0||r>=i.length)return""+n;const o=i[r]||null;return o===null||o.length===0?""+n:`${n} (${o})`}getConflictingAlts(t,e){if(t!==null)return t;const n=new xt;for(let r=0;r<e.items.length;r++)n.set(e.items[r].alt);return`{${n.values().join(", ")}}`}}class Vs extends Error{constructor(){super(),Error.captureStackTrace(this,Vs)}}class Xa{reset(t){}recoverInline(t){}recover(t,e){}sync(t){}inErrorRecoveryMode(t){}reportError(t){}}class Yn extends Xa{constructor(){super(),this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.lastErrorStates=null,this.nextTokensContext=null,this.nextTokenState=0}reset(t){this.endErrorCondition(t)}beginErrorCondition(t){this.errorRecoveryMode=!0}inErrorRecoveryMode(t){return this.errorRecoveryMode}endErrorCondition(t){this.errorRecoveryMode=!1,this.lastErrorStates=null,this.lastErrorIndex=-1}reportMatch(t){this.endErrorCondition(t)}reportError(t,e){this.inErrorRecoveryMode(t)||(this.beginErrorCondition(t),e instanceof qn?this.reportNoViableAlternative(t,e):e instanceof Ce?this.reportInputMismatch(t,e):e instanceof Hs?this.reportFailedPredicate(t,e):(console.log("unknown recognition error type: "+e.constructor.name),console.log(e.stack),t.notifyErrorListeners(e.getOffendingToken(),e.getMessage(),e)))}recover(t,e){this.lastErrorIndex===t.getInputStream().index&&this.lastErrorStates!==null&&this.lastErrorStates.indexOf(t.state)>=0&&t.consume(),this.lastErrorIndex=t._input.index,this.lastErrorStates===null&&(this.lastErrorStates=[]),this.lastErrorStates.push(t.state);const n=this.getErrorRecoverySet(t);this.consumeUntil(t,n)}sync(t){if(this.inErrorRecoveryMode(t))return;const e=t._interp.atn.states[t.state],n=t.getTokenStream().LA(1),r=t.atn.nextTokens(e);if(r.contains(n))return this.nextTokensContext=null,void(this.nextTokenState=_.INVALID_STATE_NUMBER);if(r.contains(p.EPSILON))this.nextTokensContext===null&&(this.nextTokensContext=t._ctx,this.nextTokensState=t._stateNumber);else switch(e.stateType){case _.BLOCK_START:case _.STAR_BLOCK_START:case _.PLUS_BLOCK_START:case _.STAR_LOOP_ENTRY:if(this.singleTokenDeletion(t)!==null)return;throw new Ce(t);case _.PLUS_LOOP_BACK:case _.STAR_LOOP_BACK:{this.reportUnwantedToken(t);const i=new vt;i.addSet(t.getExpectedTokens());const o=i.addSet(this.getErrorRecoverySet(t));this.consumeUntil(t,o)}}}reportNoViableAlternative(t,e){const n=t.getTokenStream();let r;r=n!==null?e.startToken.type===p.EOF?"<EOF>":n.getText(new L(e.startToken.tokenIndex,e.offendingToken.tokenIndex)):"<unknown input>";const i="no viable alternative at input "+this.escapeWSAndQuote(r);t.notifyErrorListeners(i,e.offendingToken,e)}reportInputMismatch(t,e){const n="mismatched input "+this.getTokenErrorDisplay(e.offendingToken)+" expecting "+e.getExpectedTokens().toString(t.literalNames,t.symbolicNames);t.notifyErrorListeners(n,e.offendingToken,e)}reportFailedPredicate(t,e){const n="rule "+t.ruleNames[t._ctx.ruleIndex]+" "+e.message;t.notifyErrorListeners(n,e.offendingToken,e)}reportUnwantedToken(t){if(this.inErrorRecoveryMode(t))return;this.beginErrorCondition(t);const e=t.getCurrentToken(),n="extraneous input "+this.getTokenErrorDisplay(e)+" expecting "+this.getExpectedTokens(t).toString(t.literalNames,t.symbolicNames);t.notifyErrorListeners(n,e,null)}reportMissingToken(t){if(this.inErrorRecoveryMode(t))return;this.beginErrorCondition(t);const e=t.getCurrentToken(),n="missing "+this.getExpectedTokens(t).toString(t.literalNames,t.symbolicNames)+" at "+this.getTokenErrorDisplay(e);t.notifyErrorListeners(n,e,null)}recoverInline(t){const e=this.singleTokenDeletion(t);if(e!==null)return t.consume(),e;if(this.singleTokenInsertion(t))return this.getMissingSymbol(t);throw new Ce(t)}singleTokenInsertion(t){const e=t.getTokenStream().LA(1),n=t._interp.atn,r=n.states[t.state].transitions[0].target;return!!n.nextTokens(r,t._ctx).contains(e)&&(this.reportMissingToken(t),!0)}singleTokenDeletion(t){const e=t.getTokenStream().LA(2);if(this.getExpectedTokens(t).contains(e)){this.reportUnwantedToken(t),t.consume();const n=t.getCurrentToken();return this.reportMatch(t),n}return null}getMissingSymbol(t){const e=t.getCurrentToken(),n=this.getExpectedTokens(t).first();let r;r=n===p.EOF?"<missing EOF>":"<missing "+t.literalNames[n]+">";let i=e;const o=t.getTokenStream().LT(-1);return i.type===p.EOF&&o!==null&&(i=o),t.getTokenFactory().create(i.source,n,r,p.DEFAULT_CHANNEL,-1,-1,i.line,i.column)}getExpectedTokens(t){return t.getExpectedTokens()}getTokenErrorDisplay(t){if(t===null)return"<no token>";let e=t.text;return e===null&&(e=t.type===p.EOF?"<EOF>":"<"+t.type+">"),this.escapeWSAndQuote(e)}escapeWSAndQuote(t){return"'"+(t=(t=(t=t.replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/\t/g,"\\t"))+"'"}getErrorRecoverySet(t){const e=t._interp.atn;let n=t._ctx;const r=new vt;for(;n!==null&&n.invokingState>=0;){const i=e.states[n.invokingState].transitions[0],o=e.nextTokens(i.followState);r.addSet(o),n=n.parentCtx}return r.removeOne(p.EPSILON),r}consumeUntil(t,e){let n=t.getTokenStream().LA(1);for(;n!==p.EOF&&!e.contains(n);)t.consume(),n=t.getTokenStream().LA(1)}}class Di extends Yn{constructor(){super()}recover(t,e){let n=t._ctx;for(;n!==null;)n.exception=e,n=n.parentCtx;throw new Vs(e)}recoverInline(t){this.recover(t,new Ce(t))}sync(t){}}const Ja={RecognitionException:Zt,NoViableAltException:qn,LexerNoViableAltException:$s,InputMismatchException:Ce,FailedPredicateException:Hs,DiagnosticErrorListener:ki,BailErrorStrategy:Di,DefaultErrorStrategy:Yn,ErrorListener:on};class ue{constructor(t,e){if(this.name="<empty>",this.strdata=t,this.decodeToUnicodeCodePoints=e||!1,this._index=0,this.data=[],this.decodeToUnicodeCodePoints)for(let n=0;n<this.strdata.length;){const r=this.strdata.codePointAt(n);this.data.push(r),n+=r<=65535?1:2}else{this.data=new Array(this.strdata.length);for(let n=0;n<this.strdata.length;n++)this.data[n]=this.strdata.charCodeAt(n)}this._size=this.data.length}reset(){this._index=0}consume(){if(this._index>=this._size)throw"cannot consume EOF";this._index+=1}LA(t){if(t===0)return 0;t<0&&(t+=1);const e=this._index+t-1;return e<0||e>=this._size?p.EOF:this.data[e]}LT(t){return this.LA(t)}mark(){return-1}release(t){}seek(t){t<=this._index?this._index=t:this._index=Math.min(t,this._size)}getText(t,e){if(e>=this._size&&(e=this._size-1),t>=this._size)return"";if(this.decodeToUnicodeCodePoints){let n="";for(let r=t;r<=e;r++)n+=String.fromCodePoint(this.data[r]);return n}return this.strdata.slice(t,e+1)}toString(){return this.strdata}get index(){return this._index}get size(){return this._size}}class Gs extends ue{constructor(t,e){super(t,e)}}var xr=le(763);const Er=typeof process<"u"&&process.versions!=null&&process.versions.node!=null;class _r extends Gs{static fromPath(t,e,n){if(!Er)throw new Error("FileStream is only available when running in Node!");xr.readFile(t,e,function(r,i){let o=null;i!==null&&(o=new ue(i,!0)),n(r,o)})}constructor(t,e,n){if(!Er)throw new Error("FileStream is only available when running in Node!");super(xr.readFileSync(t,e||"utf-8"),n),this.fileName=t}}const Ri={fromString:function(s){return new ue(s,!0)},fromBlob:function(s,t,e,n){const r=new window.FileReader;r.onload=function(i){const o=new ue(i.target.result,!0);e(o)},r.onerror=n,r.readAsText(s,t)},fromBuffer:function(s,t){return new ue(s.toString(t),!0)},fromPath:function(s,t,e){_r.fromPath(s,t,e)},fromPathSync:function(s,t){return new _r(s,t)}},Qa={arrayToString:Yt,stringToCharArray:function(s){let t=new Uint16Array(s.length);for(let e=0;e<s.length;e++)t[e]=s.charCodeAt(e);return t}};class tl{}class Li extends tl{constructor(t){super(),this.tokenSource=t,this.tokens=[],this.index=-1,this.fetchedEOF=!1}mark(){return 0}release(t){}reset(){this.seek(0)}seek(t){this.lazyInit(),this.index=this.adjustSeekIndex(t)}get size(){return this.tokens.length}get(t){return this.lazyInit(),this.tokens[t]}consume(){let t=!1;if(t=this.index>=0&&(this.fetchedEOF?this.index<this.tokens.length-1:this.index<this.tokens.length),!t&&this.LA(1)===p.EOF)throw"cannot consume EOF";this.sync(this.index+1)&&(this.index=this.adjustSeekIndex(this.index+1))}sync(t){const e=t-this.tokens.length+1;return!(e>0)||this.fetch(e)>=e}fetch(t){if(this.fetchedEOF)return 0;for(let e=0;e<t;e++){const n=this.tokenSource.nextToken();if(n.tokenIndex=this.tokens.length,this.tokens.push(n),n.type===p.EOF)return this.fetchedEOF=!0,e+1}return t}getTokens(t,e,n){if(n===void 0&&(n=null),t<0||e<0)return null;this.lazyInit();const r=[];e>=this.tokens.length&&(e=this.tokens.length-1);for(let i=t;i<e;i++){const o=this.tokens[i];if(o.type===p.EOF)break;(n===null||n.contains(o.type))&&r.push(o)}return r}LA(t){return this.LT(t).type}LB(t){return this.index-t<0?null:this.tokens[this.index-t]}LT(t){if(this.lazyInit(),t===0)return null;if(t<0)return this.LB(-t);const e=this.index+t-1;return this.sync(e),e>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[e]}adjustSeekIndex(t){return t}lazyInit(){this.index===-1&&this.setup()}setup(){this.sync(0),this.index=this.adjustSeekIndex(0)}setTokenSource(t){this.tokenSource=t,this.tokens=[],this.index=-1,this.fetchedEOF=!1}nextTokenOnChannel(t,e){if(this.sync(t),t>=this.tokens.length)return-1;let n=this.tokens[t];for(;n.channel!==e;){if(n.type===p.EOF)return-1;t+=1,this.sync(t),n=this.tokens[t]}return t}previousTokenOnChannel(t,e){for(;t>=0&&this.tokens[t].channel!==e;)t-=1;return t}getHiddenTokensToRight(t,e){if(e===void 0&&(e=-1),this.lazyInit(),t<0||t>=this.tokens.length)throw t+" not in 0.."+this.tokens.length-1;const n=this.nextTokenOnChannel(t+1,W.DEFAULT_TOKEN_CHANNEL),r=t+1,i=n===-1?this.tokens.length-1:n;return this.filterForChannel(r,i,e)}getHiddenTokensToLeft(t,e){if(e===void 0&&(e=-1),this.lazyInit(),t<0||t>=this.tokens.length)throw t+" not in 0.."+this.tokens.length-1;const n=this.previousTokenOnChannel(t-1,W.DEFAULT_TOKEN_CHANNEL);if(n===t-1)return null;const r=n+1,i=t-1;return this.filterForChannel(r,i,e)}filterForChannel(t,e,n){const r=[];for(let i=t;i<e+1;i++){const o=this.tokens[i];n===-1?o.channel!==W.DEFAULT_TOKEN_CHANNEL&&r.push(o):o.channel===n&&r.push(o)}return r.length===0?null:r}getSourceName(){return this.tokenSource.getSourceName()}getText(t){this.lazyInit(),this.fill(),t||(t=new L(0,this.tokens.length-1));let e=t.start;e instanceof p&&(e=e.tokenIndex);let n=t.stop;if(n instanceof p&&(n=n.tokenIndex),e===null||n===null||e<0||n<0)return"";n>=this.tokens.length&&(n=this.tokens.length-1);let r="";for(let i=e;i<n+1;i++){const o=this.tokens[i];if(o.type===p.EOF)break;r+=o.text}return r}fill(){for(this.lazyInit();this.fetch(1e3)===1e3;);}}Object.defineProperty(Li,"size",{get:function(){return this.tokens.length}});class Pi extends Li{constructor(t,e){super(t),this.channel=e===void 0?p.DEFAULT_CHANNEL:e}adjustSeekIndex(t){return this.nextTokenOnChannel(t,this.channel)}LB(t){if(t===0||this.index-t<0)return null;let e=this.index,n=1;for(;n<=t;)e=this.previousTokenOnChannel(e-1,this.channel),n+=1;return e<0?null:this.tokens[e]}LT(t){if(this.lazyInit(),t===0)return null;if(t<0)return this.LB(-t);let e=this.index,n=1;for(;n<t;)this.sync(e+1)&&(e=this.nextTokenOnChannel(e+1,this.channel)),n+=1;return this.tokens[e]}getNumberOfOnChannelTokens(){let t=0;this.fill();for(let e=0;e<this.tokens.length;e++){const n=this.tokens[e];if(n.channel===this.channel&&(t+=1),n.type===p.EOF)break}return t}}class el extends Bs{constructor(t){super(),this.parser=t}enterEveryRule(t){console.log("enter   "+this.parser.ruleNames[t.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}visitTerminal(t){console.log("consume "+t.symbol+" rule "+this.parser.ruleNames[this.parser._ctx.ruleIndex])}exitEveryRule(t){console.log("exit    "+this.parser.ruleNames[t.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)}}class qs extends bn{constructor(t){super(),this._input=null,this._errHandler=new Yn,this._precedenceStack=[],this._precedenceStack.push(0),this._ctx=null,this.buildParseTrees=!0,this._tracer=null,this._parseListeners=null,this._syntaxErrors=0,this.setInputStream(t)}reset(){this._input!==null&&this._input.seek(0),this._errHandler.reset(this),this._ctx=null,this._syntaxErrors=0,this.setTrace(!1),this._precedenceStack=[],this._precedenceStack.push(0),this._interp!==null&&this._interp.reset()}match(t){let e=this.getCurrentToken();return e.type===t?(this._errHandler.reportMatch(this),this.consume()):(e=this._errHandler.recoverInline(this),this.buildParseTrees&&e.tokenIndex===-1&&this._ctx.addErrorNode(e)),e}matchWildcard(){let t=this.getCurrentToken();return t.type>0?(this._errHandler.reportMatch(this),this.consume()):(t=this._errHandler.recoverInline(this),this.buildParseTrees&&t.tokenIndex===-1&&this._ctx.addErrorNode(t)),t}getParseListeners(){return this._parseListeners||[]}addParseListener(t){if(t===null)throw"listener";this._parseListeners===null&&(this._parseListeners=[]),this._parseListeners.push(t)}removeParseListener(t){if(this._parseListeners!==null){const e=this._parseListeners.indexOf(t);e>=0&&this._parseListeners.splice(e,1),this._parseListeners.length===0&&(this._parseListeners=null)}}removeParseListeners(){this._parseListeners=null}triggerEnterRuleEvent(){if(this._parseListeners!==null){const t=this._ctx;this._parseListeners.forEach(function(e){e.enterEveryRule(t),t.enterRule(e)})}}triggerExitRuleEvent(){if(this._parseListeners!==null){const t=this._ctx;this._parseListeners.slice(0).reverse().forEach(function(e){t.exitRule(e),e.exitEveryRule(t)})}}getTokenFactory(){return this._input.tokenSource._factory}setTokenFactory(t){this._input.tokenSource._factory=t}getATNWithBypassAlts(){const t=this.getSerializedATN();if(t===null)throw"The current parser does not support an ATN with bypass alternatives.";let e=this.bypassAltsAtnCache[t];if(e===null){const n=new ze;n.generateRuleBypassTransitions=!0,e=new Us(n).deserialize(t),this.bypassAltsAtnCache[t]=e}return e}getInputStream(){return this.getTokenStream()}setInputStream(t){this.setTokenStream(t)}getTokenStream(){return this._input}setTokenStream(t){this._input=null,this.reset(),this._input=t}get syntaxErrorsCount(){return this._syntaxErrors}getCurrentToken(){return this._input.LT(1)}notifyErrorListeners(t,e,n){n=n||null,(e=e||null)===null&&(e=this.getCurrentToken()),this._syntaxErrors+=1;const r=e.line,i=e.column;this.getErrorListener().syntaxError(this,e,r,i,t,n)}consume(){const t=this.getCurrentToken();t.type!==p.EOF&&this.getInputStream().consume();const e=this._parseListeners!==null&&this._parseListeners.length>0;if(this.buildParseTrees||e){let n;n=this._errHandler.inErrorRecoveryMode(this)?this._ctx.addErrorNode(t):this._ctx.addTokenNode(t),n.invokingState=this.state,e&&this._parseListeners.forEach(function(r){n instanceof Hn||n.isErrorNode!==void 0&&n.isErrorNode()?r.visitErrorNode(n):n instanceof Vt&&r.visitTerminal(n)})}return t}addContextToParseTree(){this._ctx.parentCtx!==null&&this._ctx.parentCtx.addChild(this._ctx)}enterRule(t,e,n){this.state=e,this._ctx=t,this._ctx.start=this._input.LT(1),this.buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this._ctx.stop=this._input.LT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx.parentCtx}enterOuterAlt(t,e){t.setAltNumber(e),this.buildParseTrees&&this._ctx!==t&&this._ctx.parentCtx!==null&&(this._ctx.parentCtx.removeLastChild(),this._ctx.parentCtx.addChild(t)),this._ctx=t}getPrecedence(){return this._precedenceStack.length===0?-1:this._precedenceStack[this._precedenceStack.length-1]}enterRecursionRule(t,e,n,r){this.state=e,this._precedenceStack.push(r),this._ctx=t,this._ctx.start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(t,e,n){const r=this._ctx;r.parentCtx=t,r.invokingState=e,r.stop=this._input.LT(-1),this._ctx=t,this._ctx.start=r.start,this.buildParseTrees&&this._ctx.addChild(r),this.triggerEnterRuleEvent()}unrollRecursionContexts(t){this._precedenceStack.pop(),this._ctx.stop=this._input.LT(-1);const e=this._ctx,n=this.getParseListeners();if(n!==null&&n.length>0)for(;this._ctx!==t;)this.triggerExitRuleEvent(),this._ctx=this._ctx.parentCtx;else this._ctx=t;e.parentCtx=t,this.buildParseTrees&&t!==null&&t.addChild(e)}getInvokingContext(t){let e=this._ctx;for(;e!==null;){if(e.ruleIndex===t)return e;e=e.parentCtx}return null}precpred(t,e){return e>=this._precedenceStack[this._precedenceStack.length-1]}inContext(t){return!1}isExpectedToken(t){const e=this._interp.atn;let n=this._ctx;const r=e.states[this.state];let i=e.nextTokens(r);if(i.contains(t))return!0;if(!i.contains(p.EPSILON))return!1;for(;n!==null&&n.invokingState>=0&&i.contains(p.EPSILON);){const o=e.states[n.invokingState].transitions[0];if(i=e.nextTokens(o.followState),i.contains(t))return!0;n=n.parentCtx}return!(!i.contains(p.EPSILON)||t!==p.EOF)}getExpectedTokens(){return this._interp.atn.getExpectedTokens(this.state,this._ctx)}getExpectedTokensWithinCurrentRule(){const t=this._interp.atn,e=t.states[this.state];return t.nextTokens(e)}getRuleIndex(t){const e=this.getRuleIndexMap()[t];return e!==null?e:-1}getRuleInvocationStack(t){(t=t||null)===null&&(t=this._ctx);const e=[];for(;t!==null;){const n=t.ruleIndex;n<0?e.push("n/a"):e.push(this.ruleNames[n]),t=t.parentCtx}return e}getDFAStrings(){return this._interp.decisionToDFA.toString()}dumpDFA(){let t=!1;for(let e=0;e<this._interp.decisionToDFA.length;e++){const n=this._interp.decisionToDFA[e];n.states.length>0&&(t&&console.log(),this.printer.println("Decision "+n.decision+":"),this.printer.print(n.toString(this.literalNames,this.symbolicNames)),t=!0)}}getSourceName(){return this._input.getSourceName()}setTrace(t){t?(this._tracer!==null&&this.removeParseListener(this._tracer),this._tracer=new el(this),this.addParseListener(this._tracer)):(this.removeParseListener(this._tracer),this._tracer=null)}}qs.bypassAltsAtnCache={};class Fi extends Vt{constructor(t){super(),this.parentCtx=null,this.symbol=t}getChild(t){return null}getSymbol(){return this.symbol}getParent(){return this.parentCtx}getPayload(){return this.symbol}getSourceInterval(){if(this.symbol===null)return L.INVALID_INTERVAL;const t=this.symbol.tokenIndex;return new L(t,t)}getChildCount(){return 0}accept(t){return t.visitTerminal(this)}getText(){return this.symbol.text}toString(){return this.symbol.type===p.EOF?"<EOF>":this.symbol.text}}class Sr extends Fi{constructor(t){super(t)}isErrorNode(){return!0}accept(t){return t.visitErrorNode(this)}}class Ys extends he{constructor(t,e){super(t,e),this.children=null,this.start=null,this.stop=null,this.exception=null}copyFrom(t){this.parentCtx=t.parentCtx,this.invokingState=t.invokingState,this.children=null,this.start=t.start,this.stop=t.stop,t.children&&(this.children=[],t.children.map(function(e){e instanceof Sr&&(this.children.push(e),e.parentCtx=this)},this))}enterRule(t){}exitRule(t){}addChild(t){return this.children===null&&(this.children=[]),this.children.push(t),t}removeLastChild(){this.children!==null&&this.children.pop()}addTokenNode(t){const e=new Fi(t);return this.addChild(e),e.parentCtx=this,e}addErrorNode(t){const e=new Sr(t);return this.addChild(e),e.parentCtx=this,e}getChild(t,e){if(e=e||null,this.children===null||t<0||t>=this.children.length)return null;if(e===null)return this.children[t];for(let n=0;n<this.children.length;n++){const r=this.children[n];if(r instanceof e){if(t===0)return r;t-=1}}return null}getToken(t,e){if(this.children===null||e<0||e>=this.children.length)return null;for(let n=0;n<this.children.length;n++){const r=this.children[n];if(r instanceof Vt&&r.symbol.type===t){if(e===0)return r;e-=1}}return null}getTokens(t){if(this.children===null)return[];{const e=[];for(let n=0;n<this.children.length;n++){const r=this.children[n];r instanceof Vt&&r.symbol.type===t&&e.push(r)}return e}}getTypedRuleContext(t,e){return this.getChild(e,t)}getTypedRuleContexts(t){if(this.children===null)return[];{const e=[];for(let n=0;n<this.children.length;n++){const r=this.children[n];r instanceof t&&e.push(r)}return e}}getChildCount(){return this.children===null?0:this.children.length}getSourceInterval(){return this.start===null||this.stop===null?L.INVALID_INTERVAL:new L(this.start.tokenIndex,this.stop.tokenIndex)}}he.EMPTY=new Ys;const qt=class qt{constructor(t){this.tokens=t,this.programs=new Map}getTokenStream(){return this.tokens}insertAfter(t,e){let n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:qt.DEFAULT_PROGRAM_NAME;n=typeof t=="number"?t:t.tokenIndex;let i=this.getProgram(r),o=new yr(this.tokens,n,i.length,e);i.push(o)}insertBefore(t,e){let n,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:qt.DEFAULT_PROGRAM_NAME;n=typeof t=="number"?t:t.tokenIndex;const i=this.getProgram(r),o=new xe(this.tokens,n,i.length,e);i.push(o)}replaceSingle(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:qt.DEFAULT_PROGRAM_NAME;this.replace(t,t,e,n)}replace(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:qt.DEFAULT_PROGRAM_NAME;if(typeof t!="number"&&(t=t.tokenIndex),typeof e!="number"&&(e=e.tokenIndex),t>e||t<0||e<0||e>=this.tokens.size)throw new RangeError(`replace: range invalid: ${t}..${e}(size=${this.tokens.size})`);let i=this.getProgram(r),o=new un(this.tokens,t,e,i.length,n);i.push(o)}delete(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:qt.DEFAULT_PROGRAM_NAME;e===void 0&&(e=t),this.replace(t,e,null,n)}getProgram(t){let e=this.programs.get(t);return e==null&&(e=this.initializeProgram(t)),e}initializeProgram(t){const e=[];return this.programs.set(t,e),e}getText(t){let e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qt.DEFAULT_PROGRAM_NAME;e=t instanceof L?t:new L(0,this.tokens.size-1),typeof t=="string"&&(n=t);const r=this.programs.get(n);let i=e.start,o=e.stop;if(o>this.tokens.size-1&&(o=this.tokens.size-1),i<0&&(i=0),r==null||r.length===0)return this.tokens.getText(new L(i,o));let a=[],l=this.reduceToSingleOperationPerIndex(r),c=i;for(;c<=o&&c<this.tokens.size;){let u=l.get(c);l.delete(c);let d=this.tokens.get(c);u==null?(d.type!==p.EOF&&a.push(String(d.text)),c++):c=u.execute(a)}if(o===this.tokens.size-1)for(const u of l.values())u.index>=this.tokens.size-1&&a.push(u.text.toString());return a.join("")}reduceToSingleOperationPerIndex(t){for(let n=0;n<t.length;n++){let r=t[n];if(r==null||!(r instanceof un))continue;let i=r,o=this.getKindOfOps(t,xe,n);for(let l of o)l.index===i.index?(t[l.instructionIndex]=void 0,i.text=l.text.toString()+(i.text!=null?i.text.toString():"")):l.index>i.index&&l.index<=i.lastIndex&&(t[l.instructionIndex]=void 0);let a=this.getKindOfOps(t,un,n);for(let l of a){if(l.index>=i.index&&l.lastIndex<=i.lastIndex){t[l.instructionIndex]=void 0;continue}let c=l.lastIndex<i.index||l.index>i.lastIndex;if(l.text!=null||i.text!=null||c){if(!c)throw new Error(`replace op boundaries of ${i} overlap with previous ${l}`)}else t[l.instructionIndex]=void 0,i.index=Math.min(l.index,i.index),i.lastIndex=Math.max(l.lastIndex,i.lastIndex)}}for(let n=0;n<t.length;n++){let r=t[n];if(r==null||!(r instanceof xe))continue;let i=r,o=this.getKindOfOps(t,xe,n);for(let l of o)l.index===i.index&&(l instanceof yr?(i.text=this.catOpText(l.text,i.text),t[l.instructionIndex]=void 0):l instanceof xe&&(i.text=this.catOpText(i.text,l.text),t[l.instructionIndex]=void 0));let a=this.getKindOfOps(t,un,n);for(let l of a)if(i.index!==l.index){if(i.index>=l.index&&i.index<=l.lastIndex)throw new Error(`insert op ${i} within boundaries of previous ${l}`)}else l.text=this.catOpText(i.text,l.text),t[n]=void 0}let e=new Map;for(let n of t)if(n!=null){if(e.get(n.index)!=null)throw new Error("should only be one op per index");e.set(n.index,n)}return e}catOpText(t,e){let n="",r="";return t!=null&&(n=t.toString()),e!=null&&(r=e.toString()),n+r}getKindOfOps(t,e,n){return t.slice(0,n).filter(r=>r&&r instanceof e)}};O(qt,"DEFAULT_PROGRAM_NAME","default");let wn=qt;class Mi{constructor(t,e,n,r){this.tokens=t,this.instructionIndex=n,this.index=e,this.text=r===void 0?"":r}toString(){let t=this.constructor.name;const e=t.indexOf("$");return t=t.substring(e+1,t.length),"<"+t+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}}class xe extends Mi{constructor(t,e,n,r){super(t,e,n,r)}execute(t){return this.text&&t.push(this.text.toString()),this.tokens.get(this.index).type!==p.EOF&&t.push(String(this.tokens.get(this.index).text)),this.index+1}}class yr extends xe{constructor(t,e,n,r){super(t,e+1,n,r)}}class un extends Mi{constructor(t,e,n,r,i){super(t,e,r,i),this.lastIndex=n}execute(t){return this.text&&t.push(this.text.toString()),this.lastIndex+1}toString(){return this.text==null?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}}const nl={atn:qa,dfa:Ya,context:Ka,misc:ja,tree:Wa,error:Ja,Token:p,CommonToken:Kt,CharStreams:Ri,CharStream:ue,InputStream:Gs,CommonTokenStream:Pi,Lexer:W,Parser:qs,ParserRuleContext:Ys,Interval:L,IntervalSet:vt,LL1Analyzer:de,Utils:Qa,TokenStreamRewriter:wn};P.MG;var Ui=P.fr;P.sR;P.Zo;var sl=P.iH;P.rt;var rl=P.jB,$i=P.M8;P.$t;P.aq;P.pG;var il=P.eP;P.KU;P.zW;P.IX;P.mY;P.a7;var ol=P.JG,al=P.ay,Ar=P.X2;P.WU;P.Uw;P.gw;var ll=P.iX,cl=P.re,Kn=P.Pg,zi=P.tD;P.R$;var hn=P.Dj;P.m7;P.NZ;P.xo;var Bi=P.ou;P.qC;P.mD;P.Ay;const v=class v extends ll{get grammarFileName(){return"EventCondition.g4"}get literalNames(){return v.literalNames}get symbolicNames(){return v.symbolicNames}get ruleNames(){return v.ruleNames}get serializedATN(){return v._serializedATN}createFailedPredicateException(t,e){return new il(this,t,e)}constructor(t){super(t),this._interp=new cl(this,v._ATN,v.DecisionsToDFA,new zi)}condition(){let t=new ul(this,this._ctx,this.state);this.enterRule(t,0,v.RULE_condition);try{switch(this.state=18,this._errHandler.sync(this),this._input.LA(1)){case 4:this.enterOuterAlt(t,1),this.state=8,this.match(v.CLANS),this.state=9,this.match(v.MATCHES),this.state=10,this.clanCondition(),this.state=11,this.match(v.EOF);break;case 5:this.enterOuterAlt(t,2),this.state=13,this.match(v.VOTES),this.state=14,this.match(v.MATCHES),this.state=15,this.voteCondition(),this.state=16,this.match(v.EOF);break;default:throw new Ar(this)}}catch(e){if(e instanceof hn)t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e);else throw e}finally{this.exitRule()}return t}clanCondition(){let t=new Ke(this,this._ctx,this.state);this.enterRule(t,2,v.RULE_clanCondition);try{switch(this.state=33,this._errHandler.sync(this),this._interp.adaptivePredict(this._input,1,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=20,this.match(v.LPAREN),this.state=21,this.clanCondition(),this.state=22,this.match(v.AND),this.state=23,this.clanCondition(),this.state=24,this.match(v.RPAREN);break;case 2:this.enterOuterAlt(t,2),this.state=26,this.match(v.LPAREN),this.state=27,this.clanCondition(),this.state=28,this.match(v.OR),this.state=29,this.clanCondition(),this.state=30,this.match(v.RPAREN);break;case 3:this.enterOuterAlt(t,3),this.state=32,this.match(v.TEXT);break}}catch(e){if(e instanceof hn)t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e);else throw e}finally{this.exitRule()}return t}voteCondition(){let t=new je(this,this._ctx,this.state);this.enterRule(t,4,v.RULE_voteCondition);try{switch(this.state=43,this._errHandler.sync(this),this._input.LA(1)){case 9:this.enterOuterAlt(t,1),this.state=35,this.match(v.LPAREN),this.state=36,this.voteCondition(),this.state=37,this.match(v.OR),this.state=38,this.voteCondition(),this.state=39,this.match(v.RPAREN);break;case 11:this.enterOuterAlt(t,2),this.state=41,this.match(v.TEXT),this.state=42,this.gameServer();break;default:throw new Ar(this)}}catch(e){if(e instanceof hn)t.exception=e,this._errHandler.reportError(this,e),this._errHandler.recover(this,e);else throw e}finally{this.exitRule()}return t}gameServer(){let t=new Hi(this,this._ctx,this.state);this.enterRule(t,6,v.RULE_gameServer);let e;try{this.enterOuterAlt(t,1),this.state=45,e=this._input.LA(1),!(e&-32)&&1<<e&448?(this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(n){if(n instanceof hn)t.exception=n,this._errHandler.reportError(this,n),this._errHandler.recover(this,n);else throw n}finally{this.exitRule()}return t}static get _ATN(){return v.__ATN||(v.__ATN=new Ui().deserialize(v._serializedATN)),v.__ATN}};O(v,"AND",1),O(v,"OR",2),O(v,"MATCHES",3),O(v,"CLANS",4),O(v,"VOTES",5),O(v,"NA",6),O(v,"EU",7),O(v,"ASIA",8),O(v,"LPAREN",9),O(v,"RPAREN",10),O(v,"TEXT",11),O(v,"WS",12),O(v,"EOF",Bi.EOF),O(v,"RULE_condition",0),O(v,"RULE_clanCondition",1),O(v,"RULE_voteCondition",2),O(v,"RULE_gameServer",3),O(v,"literalNames",[null,null,null,null,null,null,null,null,null,"'('","')'"]),O(v,"symbolicNames",[null,"AND","OR","MATCHES","CLANS","VOTES","NA","EU","ASIA","LPAREN","RPAREN","TEXT","WS"]),O(v,"ruleNames",["condition","clanCondition","voteCondition","gameServer"]),O(v,"_serializedATN",[4,1,12,48,2,0,7,0,2,1,7,1,2,2,7,2,2,3,7,3,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,3,0,19,8,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,1,34,8,1,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,3,2,44,8,2,1,3,1,3,1,3,0,0,4,0,2,4,6,0,1,1,0,6,8,47,0,18,1,0,0,0,2,33,1,0,0,0,4,43,1,0,0,0,6,45,1,0,0,0,8,9,5,4,0,0,9,10,5,3,0,0,10,11,3,2,1,0,11,12,5,0,0,1,12,19,1,0,0,0,13,14,5,5,0,0,14,15,5,3,0,0,15,16,3,4,2,0,16,17,5,0,0,1,17,19,1,0,0,0,18,8,1,0,0,0,18,13,1,0,0,0,19,1,1,0,0,0,20,21,5,9,0,0,21,22,3,2,1,0,22,23,5,1,0,0,23,24,3,2,1,0,24,25,5,10,0,0,25,34,1,0,0,0,26,27,5,9,0,0,27,28,3,2,1,0,28,29,5,2,0,0,29,30,3,2,1,0,30,31,5,10,0,0,31,34,1,0,0,0,32,34,5,11,0,0,33,20,1,0,0,0,33,26,1,0,0,0,33,32,1,0,0,0,34,3,1,0,0,0,35,36,5,9,0,0,36,37,3,4,2,0,37,38,5,2,0,0,38,39,3,4,2,0,39,40,5,10,0,0,40,44,1,0,0,0,41,42,5,11,0,0,42,44,3,6,3,0,43,35,1,0,0,0,43,41,1,0,0,0,44,5,1,0,0,0,45,46,7,0,0,0,46,7,1,0,0,0,3,18,33,43]),O(v,"__ATN"),O(v,"DecisionsToDFA",v._ATN.decisionToState.map((t,e)=>new $i(t,e)));let Q=v;class ul extends Kn{constructor(t,e,n){super(e,n),this.parser=t}CLANS(){return this.getToken(Q.CLANS,0)}MATCHES(){return this.getToken(Q.MATCHES,0)}clanCondition(){return this.getTypedRuleContext(Ke,0)}EOF(){return this.getToken(Q.EOF,0)}VOTES(){return this.getToken(Q.VOTES,0)}voteCondition(){return this.getTypedRuleContext(je,0)}get ruleIndex(){return Q.RULE_condition}enterRule(t){t.enterCondition&&t.enterCondition(this)}exitRule(t){t.exitCondition&&t.exitCondition(this)}}class Ke extends Kn{constructor(t,e,n){super(e,n),this.parser=t}LPAREN(){return this.getToken(Q.LPAREN,0)}clanCondition_list(){return this.getTypedRuleContexts(Ke)}clanCondition(t){return this.getTypedRuleContext(Ke,t)}AND(){return this.getToken(Q.AND,0)}RPAREN(){return this.getToken(Q.RPAREN,0)}OR(){return this.getToken(Q.OR,0)}TEXT(){return this.getToken(Q.TEXT,0)}get ruleIndex(){return Q.RULE_clanCondition}enterRule(t){t.enterClanCondition&&t.enterClanCondition(this)}exitRule(t){t.exitClanCondition&&t.exitClanCondition(this)}}class je extends Kn{constructor(t,e,n){super(e,n),this.parser=t}LPAREN(){return this.getToken(Q.LPAREN,0)}voteCondition_list(){return this.getTypedRuleContexts(je)}voteCondition(t){return this.getTypedRuleContext(je,t)}OR(){return this.getToken(Q.OR,0)}RPAREN(){return this.getToken(Q.RPAREN,0)}TEXT(){return this.getToken(Q.TEXT,0)}gameServer(){return this.getTypedRuleContext(Hi,0)}get ruleIndex(){return Q.RULE_voteCondition}enterRule(t){t.enterVoteCondition&&t.enterVoteCondition(this)}exitRule(t){t.exitVoteCondition&&t.exitVoteCondition(this)}}class Hi extends Kn{constructor(t,e,n){super(e,n),this.parser=t}NA(){return this.getToken(Q.NA,0)}EU(){return this.getToken(Q.EU,0)}ASIA(){return this.getToken(Q.ASIA,0)}get ruleIndex(){return Q.RULE_gameServer}enterRule(t){t.enterGameServer&&t.enterGameServer(this)}exitRule(t){t.exitGameServer&&t.exitGameServer(this)}}const M=class M extends ol{constructor(t){super(t),this._interp=new al(this,M._ATN,M.DecisionsToDFA,new zi)}get grammarFileName(){return"EventCondition.g4"}get literalNames(){return M.literalNames}get symbolicNames(){return M.symbolicNames}get ruleNames(){return M.ruleNames}get serializedATN(){return M._serializedATN}get channelNames(){return M.channelNames}get modeNames(){return M.modeNames}static get _ATN(){return M.__ATN||(M.__ATN=new Ui().deserialize(M._serializedATN)),M.__ATN}};O(M,"AND",1),O(M,"OR",2),O(M,"MATCHES",3),O(M,"CLANS",4),O(M,"VOTES",5),O(M,"NA",6),O(M,"EU",7),O(M,"ASIA",8),O(M,"LPAREN",9),O(M,"RPAREN",10),O(M,"TEXT",11),O(M,"WS",12),O(M,"EOF",Bi.EOF),O(M,"channelNames",["DEFAULT_TOKEN_CHANNEL","HIDDEN"]),O(M,"literalNames",[null,null,null,null,null,null,null,null,null,"'('","')'"]),O(M,"symbolicNames",[null,"AND","OR","MATCHES","CLANS","VOTES","NA","EU","ASIA","LPAREN","RPAREN","TEXT","WS"]),O(M,"modeNames",["DEFAULT_MODE"]),O(M,"ruleNames",["AND","OR","MATCHES","CLANS","VOTES","NA","EU","ASIA","LPAREN","RPAREN","TEXT","WS"]),O(M,"_serializedATN",[4,0,12,78,6,-1,2,0,7,0,2,1,7,1,2,2,7,2,2,3,7,3,2,4,7,4,2,5,7,5,2,6,7,6,2,7,7,7,2,8,7,8,2,9,7,9,2,10,7,10,2,11,7,11,1,0,1,0,1,0,1,0,1,1,1,1,1,1,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,3,1,3,1,3,1,3,1,3,1,3,1,4,1,4,1,4,1,4,1,4,1,5,1,5,1,5,1,6,1,6,1,6,1,7,1,7,1,7,1,7,1,7,1,8,1,8,1,9,1,9,1,10,4,10,68,8,10,11,10,12,10,69,1,11,4,11,73,8,11,11,11,12,11,74,1,11,1,11,0,0,12,1,1,3,2,5,3,7,4,9,5,11,6,13,7,15,8,17,9,19,10,21,11,23,12,1,0,17,2,0,65,65,97,97,2,0,78,78,110,110,2,0,68,68,100,100,2,0,79,79,111,111,2,0,82,82,114,114,2,0,77,77,109,109,2,0,84,84,116,116,2,0,67,67,99,99,2,0,72,72,104,104,2,0,69,69,101,101,2,0,83,83,115,115,2,0,76,76,108,108,2,0,86,86,118,118,2,0,85,85,117,117,2,0,73,73,105,105,5,0,45,45,48,57,65,90,95,95,97,122,3,0,9,10,12,13,32,32,79,0,1,1,0,0,0,0,3,1,0,0,0,0,5,1,0,0,0,0,7,1,0,0,0,0,9,1,0,0,0,0,11,1,0,0,0,0,13,1,0,0,0,0,15,1,0,0,0,0,17,1,0,0,0,0,19,1,0,0,0,0,21,1,0,0,0,0,23,1,0,0,0,1,25,1,0,0,0,3,29,1,0,0,0,5,32,1,0,0,0,7,40,1,0,0,0,9,46,1,0,0,0,11,51,1,0,0,0,13,54,1,0,0,0,15,57,1,0,0,0,17,62,1,0,0,0,19,64,1,0,0,0,21,67,1,0,0,0,23,72,1,0,0,0,25,26,7,0,0,0,26,27,7,1,0,0,27,28,7,2,0,0,28,2,1,0,0,0,29,30,7,3,0,0,30,31,7,4,0,0,31,4,1,0,0,0,32,33,7,5,0,0,33,34,7,0,0,0,34,35,7,6,0,0,35,36,7,7,0,0,36,37,7,8,0,0,37,38,7,9,0,0,38,39,7,10,0,0,39,6,1,0,0,0,40,41,7,7,0,0,41,42,7,11,0,0,42,43,7,0,0,0,43,44,7,1,0,0,44,45,7,10,0,0,45,8,1,0,0,0,46,47,7,12,0,0,47,48,7,3,0,0,48,49,7,6,0,0,49,50,7,9,0,0,50,10,1,0,0,0,51,52,7,1,0,0,52,53,7,0,0,0,53,12,1,0,0,0,54,55,7,9,0,0,55,56,7,13,0,0,56,14,1,0,0,0,57,58,7,0,0,0,58,59,7,10,0,0,59,60,7,14,0,0,60,61,7,0,0,0,61,16,1,0,0,0,62,63,5,40,0,0,63,18,1,0,0,0,64,65,5,41,0,0,65,20,1,0,0,0,66,68,7,15,0,0,67,66,1,0,0,0,68,69,1,0,0,0,69,67,1,0,0,0,69,70,1,0,0,0,70,22,1,0,0,0,71,73,7,16,0,0,72,71,1,0,0,0,73,74,1,0,0,0,74,72,1,0,0,0,74,75,1,0,0,0,75,76,1,0,0,0,76,77,6,11,0,0,77,24,1,0,0,0,3,0,69,74,1,6,0,0]),O(M,"__ATN"),O(M,"DecisionsToDFA",M._ATN.decisionToState.map((t,e)=>new $i(t,e)));let xs=M;class kn extends Error{constructor(t){super(t),this.name="ParsingError"}}const Dn=s=>{const t=sl.fromString(s),e=new xs(t),n=new rl(e),r=new Q(n);return r.removeErrorListeners(),r.addErrorListener({syntaxError:(i,o,a,l,c,u)=>{throw new kn(c)}}),r.condition(),!0},Rn=s=>s==="("||s===")"?"parenthesis":["or","and"].includes(s)?"operator":"text",Vi=s=>/^[A-Za-z0-9_-]{2,5}$/.test(s),hl=s=>/^[A-Za-z0-9_]{3,24}$/.test(s);var jn=(s=>(s.CLAN="clans matches",s.VOTE="vote matches",s))(jn||{});const Gi=s=>{if(s.length===1)return s[0];const t=s.shift(),e=Gi(s);return`(${t} or ${e})`},dl=(s,t)=>{if(s.length===0)throw new kn("Condition list is empty");if(s.length===1){let n=`${t} ${s[0]}`;return Dn(n),n}let e=`${t} ${Gi(s)}`;return Dn(e),e},qi=(s,t)=>{if(s.length===0)throw new kn("Condition list is empty");if(s.length%2===0)throw new kn("Invalid condition for parsing");if(s.length===1){let r=`${t} ${s[0]}`;return Dn(r),r}let e="";for(let r of s)r==="or"||r==="and"?e+=` ${r} `:e+=r;let n=`${t} (${e})`;return Dn(n),n};function vr(s,t,e){const n=s.slice();return n[15]=t[e],n[17]=e,n}function Cr(s,t,e){const n=s.slice();return n[18]=t[e],n}function Nr(s,t,e){const n=s.slice();return n[18]=t[e],n}function fl(s){let t,e,n;function r(){return s[10](s[18])}return{c(){t=k("button"),t.textContent=`${s[18]}`},m(i,o){K(i,t,o),e||(n=Z(t,"click",r),e=!0)},p(i,o){s=i},d(i){i&&q(t),e=!1,n()}}}function Ir(s){let t,e=(s[18]==="("||s[18]===")")&&fl(s);return{c(){e&&e.c(),t=We()},m(n,r){e&&e.m(n,r),K(n,t,r)},p(n,r){(n[18]==="("||n[18]===")")&&e.p(n,r)},d(n){n&&q(t),e&&e.d(n)}}}function gl(s){let t,e,n;function r(){return s[11](s[18])}return{c(){t=k("button"),t.textContent=`${s[18]}`},m(i,o){K(i,t,o),e||(n=Z(t,"click",r),e=!0)},p(i,o){s=i},d(i){i&&q(t),e=!1,n()}}}function br(s){let t,e=s[18]!=="("&&s[18]!==")"&&gl(s);return{c(){e&&e.c(),t=We()},m(n,r){e&&e.m(n,r),K(n,t,r)},p(n,r){n[18]!=="("&&n[18]!==")"&&e.p(n,r)},d(n){n&&q(t),e&&e.d(n)}}}function Or(s,t){let e,n=t[15].name+"",r,i,o,a,l,c,u=at,d,h;function g(){return t[13](t[17])}return{key:s,first:null,c(){e=k("li"),r=fe(n),i=G(),o=k("button"),o.innerHTML='<span class="material-symbols-outlined">close</span>',a=G(),D(o,"class","remove-button"),D(e,"class",l=Rn(t[15].name)),this.first=e},m(f,m){K(f,e,m),y(e,r),y(e,i),y(e,o),y(e,a),d||(h=Z(o,"click",g),d=!0)},p(f,m){t=f,m&1&&n!==(n=t[15].name+"")&&Ze(r,n),m&1&&l!==(l=Rn(t[15].name))&&D(e,"class",l)},r(){c=e.getBoundingClientRect()},f(){Vr(e),u()},a(){u(),u=Hr(e,c,gi,{duration:Es})},d(f){f&&q(e),d=!1,h()}}}function pl(s){let t,e,n,r,i,o,a,l,c,u,d,h=[],g=new Map,f,m,T,b,S,U,C,st,nt,z,B=kt(s[3]),F=[];for(let A=0;A<B.length;A+=1)F[A]=Ir(Nr(s,B,A));let rt=kt(s[3]),H=[];for(let A=0;A<rt.length;A+=1)H[A]=br(Cr(s,rt,A));let ut=kt(s[0]);const Ct=A=>A[15].id;for(let A=0;A<ut.length;A+=1){let V=vr(s,ut,A),E=Ct(V);g.set(E,h[A]=Or(E,V))}return{c(){t=k("div"),e=k("div"),n=k("div");for(let A=0;A<F.length;A+=1)F[A].c();r=G();for(let A=0;A<H.length;A+=1)H[A].c();i=G(),o=k("input"),a=G(),l=k("button"),l.textContent="Add Clan",c=G(),u=k("div"),d=k("ul");for(let A=0;A<h.length;A+=1)h[A].c();m=G(),T=k("code"),b=fe(s[2]),S=G(),U=k("button"),U.textContent="Copy Event Condition",C=G(),st=k("link"),D(n,"class","bracket-buttons"),D(o,"type","text"),D(o,"placeholder","Enter a clan tag"),D(e,"class","controls"),D(d,"class","sortable-list"),D(T,"class","copy-preview"),D(U,"class","copy-button"),D(u,"class","container"),D(t,"class","page-container"),D(st,"rel","stylesheet"),D(st,"href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0")},m(A,V){K(A,t,V),y(t,e),y(e,n);for(let E=0;E<F.length;E+=1)F[E]&&F[E].m(n,null);y(e,r);for(let E=0;E<H.length;E+=1)H[E]&&H[E].m(e,null);y(e,i),y(e,o),$t(o,s[1]),y(e,a),y(e,l),y(t,c),y(t,u),y(u,d);for(let E=0;E<h.length;E+=1)h[E]&&h[E].m(d,null);y(u,m),y(u,T),y(T,b),y(u,S),y(u,U),K(A,C,V),K(A,st,V),nt||(z=[Z(o,"input",s[12]),Z(l,"click",s[7]),Ur(f=fi.call(null,d,{items:s[0],flipDurationMs:Es})),Z(d,"consider",s[4]),Z(d,"finalize",s[5]),Z(U,"click",s[9])],nt=!0)},p(A,[V]){if(V&72){B=kt(A[3]);let E;for(E=0;E<B.length;E+=1){const R=Nr(A,B,E);F[E]?F[E].p(R,V):(F[E]=Ir(R),F[E].c(),F[E].m(n,null))}for(;E<F.length;E+=1)F[E].d(1);F.length=B.length}if(V&72){rt=kt(A[3]);let E;for(E=0;E<rt.length;E+=1){const R=Cr(A,rt,E);H[E]?H[E].p(R,V):(H[E]=br(R),H[E].c(),H[E].m(e,i))}for(;E<H.length;E+=1)H[E].d(1);H.length=rt.length}if(V&2&&o.value!==A[1]&&$t(o,A[1]),V&257){ut=kt(A[0]);for(let E=0;E<h.length;E+=1)h[E].r();h=Wr(h,V,Ct,1,A,ut,g,d,jr,Or,null,vr);for(let E=0;E<h.length;E+=1)h[E].a()}f&&we(f.update)&&V&1&&f.update.call(null,{items:A[0],flipDurationMs:Es}),V&4&&Ze(b,A[2])},i:at,o:at,d(A){A&&(q(t),q(C),q(st)),pn(F,A),pn(H,A);for(let V=0;V<h.length;V+=1)h[V].d();nt=!1,Pt(z)}}}const Es=300;function ml(s,t,e){let n=[{id:1,name:"TEACH"},{id:2,name:"or"},{id:3,name:"FINES"}];const r=["(",")","and","or"];let i="",o;const a=S=>{e(0,n=S.detail.items)},l=S=>{e(0,n=S.detail.items),g()},c=S=>{const U=n.length?Math.max(...n.map(C=>C.id))+1:1;e(0,n=[...n,{id:U,name:S}]),g()},u=()=>{if(i.trim()!==""){if(!Vi(i)){alert("Invalid clan tag. Clan tags are between 2 and 5 characters long and contain only letters, numbers, underscores, and dashes.");return}c(i),e(1,i="")}},d=S=>{e(0,n=n.filter((U,C)=>C!==S)),g()},h=()=>{navigator.clipboard.writeText(o),console.log(o)},g=()=>{try{e(2,o=qi(n.map(S=>S.name),jn.CLAN))}catch(S){e(2,o=S.message)}};Gr(()=>g());const f=S=>c(S),m=S=>c(S);function T(){i=this.value,e(1,i)}return[n,i,o,r,a,l,c,u,d,h,f,m,T,S=>d(S)]}class Tl extends tn{constructor(t){super(),Qe(this,t,ml,pl,ke,{})}}function xl(s){let t,e,n,r,i,o,a,l,c,u,d;return{c(){t=k("div"),e=k("p"),e.innerHTML=`Helper for creating a list of clans you wish to receive events for. Saves having to
        <code>or</code> a bunch of clans.`,n=G(),r=k("textarea"),i=G(),o=k("code"),a=fe(s[1]),l=G(),c=k("button"),c.textContent="Copy Event Condition",D(e,"class","description svelte-1x9nxxj"),D(r,"placeholder",s[2]),D(r,"class","svelte-1x9nxxj"),D(o,"class","copy-preview"),D(t,"class","container")},m(h,g){K(h,t,g),y(t,e),y(t,n),y(t,r),$t(r,s[0]),y(t,i),y(t,o),y(o,a),y(t,l),y(t,c),u||(d=[Z(r,"input",s[5]),Z(r,"input",s[3]),Z(c,"click",s[4])],u=!0)},p(h,[g]){g&1&&$t(r,h[0]),g&2&&Ze(a,h[1])},i:at,o:at,d(h){h&&q(t),u=!1,Pt(d)}}}function El(s,t,e){const n=`Enter items separated by commas or on separate lines.
Example:
teach, fines, rvng

Example2:
teach
fines
rvng
    `;let r="",i="Enter clans to see a condition preivew.";const o=()=>{const c=r.split(/[\n,]+/).map(d=>d.trim()).filter(d=>d.length>0),u=[...new Set(c)];for(const d of u)if(!Vi(d)){e(1,i=`Invalid clan tag "${d}". Clan tags are between 2 and 5 characters long and contain only letters, numbers, underscores, and dashes.`);return}try{e(1,i=dl(u,jn.CLAN))}catch(d){e(1,i=d.message)}},a=()=>{let u=`clan matches (${r.split(/[\n,]+/).map(d=>d.trim()).filter(d=>d.length>0).join(" or ")})`;navigator.clipboard.writeText(u),console.log(u)};function l(){r=this.value,e(0,r)}return[r,i,n,o,a,l]}class _l extends tn{constructor(t){super(),Qe(this,t,El,xl,ke,{})}}function Sl(s){let t,e;return t=new _l({}),{c(){Ln(t.$$.fragment)},m(n,r){Xe(t,n,r),e=!0},i(n){e||(Ht(t.$$.fragment,n),e=!0)},o(n){ee(t.$$.fragment,n),e=!1},d(n){Je(t,n)}}}function yl(s){let t,e;return t=new Tl({}),{c(){Ln(t.$$.fragment)},m(n,r){Xe(t,n,r),e=!0},i(n){e||(Ht(t.$$.fragment,n),e=!0)},o(n){ee(t.$$.fragment,n),e=!1},d(n){Je(t,n)}}}function Al(s){let t,e,n,r,i,o,a,l,c,u;const d=[yl,Sl],h=[];function g(f,m){return f[0]==="clan-events"?0:f[0]==="clan-list"?1:-1}return~(i=g(s))&&(o=h[i]=d[i](s)),{c(){t=k("button"),t.textContent="Clan Events",e=G(),n=k("button"),n.textContent="List Generator",r=G(),o&&o.c(),a=We(),D(t,"class","tabs svelte-vm3u72"),D(n,"class","tabs svelte-vm3u72")},m(f,m){K(f,t,m),K(f,e,m),K(f,n,m),K(f,r,m),~i&&h[i].m(f,m),K(f,a,m),l=!0,c||(u=[Z(t,"click",s[2]),Z(n,"click",s[3])],c=!0)},p(f,[m]){let T=i;i=g(f),i!==T&&(o&&(Yr(),ee(h[T],1,1,()=>{h[T]=null}),Kr()),~i?(o=h[i],o||(o=h[i]=d[i](f),o.c()),Ht(o,1),o.m(a.parentNode,a)):o=null)},i(f){l||(Ht(o),l=!0)},o(f){ee(o),l=!1},d(f){f&&(q(t),q(e),q(n),q(r),q(a)),~i&&h[i].d(f),c=!1,Pt(u)}}}function vl(s,t,e){let n;const r=Zr("clan-events");return Mr(s,r,a=>e(0,n=a)),[n,r,()=>r.set("clan-events"),()=>r.set("clan-list")]}class Cl extends tn{constructor(t){super(),Qe(this,t,vl,Al,ke,{})}}function wr(s,t,e){const n=s.slice();return n[17]=t[e],n[19]=e,n}function kr(s,t,e){const n=s.slice();return n[20]=t[e],n}function Dr(s,t,e){const n=s.slice();return n[20]=t[e],n}function Nl(s){let t,e,n;function r(){return s[11](s[20])}return{c(){t=k("button"),t.textContent=`${s[20]}`},m(i,o){K(i,t,o),e||(n=Z(t,"click",r),e=!0)},p(i,o){s=i},d(i){i&&q(t),e=!1,n()}}}function Rr(s){let t,e=(s[20]==="("||s[20]===")")&&Nl(s);return{c(){e&&e.c(),t=We()},m(n,r){e&&e.m(n,r),K(n,t,r)},p(n,r){(n[20]==="("||n[20]===")")&&e.p(n,r)},d(n){n&&q(t),e&&e.d(n)}}}function Il(s){let t,e,n;function r(){return s[12](s[20])}return{c(){t=k("button"),t.textContent=`${s[20]}`},m(i,o){K(i,t,o),e||(n=Z(t,"click",r),e=!0)},p(i,o){s=i},d(i){i&&q(t),e=!1,n()}}}function Lr(s){let t,e=s[20]!=="("&&s[20]!==")"&&Il(s);return{c(){e&&e.c(),t=We()},m(n,r){e&&e.m(n,r),K(n,t,r)},p(n,r){n[20]!=="("&&n[20]!==")"&&e.p(n,r)},d(n){n&&q(t),e&&e.d(n)}}}function Pr(s,t){let e,n=t[17].name+"",r,i,o,a,l,c,u=at,d,h;function g(){return t[15](t[19])}return{key:s,first:null,c(){e=k("li"),r=fe(n),i=G(),o=k("button"),o.innerHTML='<span class="material-symbols-outlined">close</span>',a=G(),D(o,"class","remove-button"),D(e,"class",l=Rn(t[17].name)),this.first=e},m(f,m){K(f,e,m),y(e,r),y(e,i),y(e,o),y(e,a),d||(h=Z(o,"click",g),d=!0)},p(f,m){t=f,m&1&&n!==(n=t[17].name+"")&&Ze(r,n),m&1&&l!==(l=Rn(t[17].name))&&D(e,"class",l)},r(){c=e.getBoundingClientRect()},f(){Vr(e),u()},a(){u(),u=Hr(e,c,gi,{duration:_s})},d(f){f&&q(e),d=!1,h()}}}function bl(s){let t,e,n,r,i,o,a,l,c,u,d,h,g,f,m,T,b,S,U,C=[],st=new Map,nt,z,B,F,rt,H,ut,Ct,A,V,E=kt(s[4]),R=[];for(let N=0;N<E.length;N+=1)R[N]=Rr(Dr(s,E,N));let Xt=kt(s[4]),tt=[];for(let N=0;N<Xt.length;N+=1)tt[N]=Lr(kr(s,Xt,N));let ft=kt(s[0]);const Nt=N=>N[17].id;for(let N=0;N<ft.length;N+=1){let X=wr(s,ft,N),I=Nt(X);st.set(I,C[N]=Pr(I,X))}return{c(){t=k("div"),e=G(),n=k("div"),r=k("div"),i=k("div");for(let N=0;N<R.length;N+=1)R[N].c();o=G();for(let N=0;N<tt.length;N+=1)tt[N].c();a=G(),l=k("input"),c=G(),u=k("select"),d=k("option"),d.textContent="Select a region",h=k("option"),h.textContent="NA",g=k("option"),g.textContent="EU",f=k("option"),f.textContent="ASIA",m=G(),T=k("button"),T.textContent="Add Player",b=G(),S=k("div"),U=k("ul");for(let N=0;N<C.length;N+=1)C[N].c();z=G(),B=k("code"),F=fe(s[3]),rt=G(),H=k("button"),H.textContent="Copy Event Condition",ut=G(),Ct=k("link"),D(t,"class","description"),D(i,"class","bracket-buttons"),D(l,"type","text"),D(l,"placeholder","Enter a playername"),d.__value="",$t(d,d.__value),d.disabled=!0,d.selected=!0,h.__value="NA",$t(h,h.__value),g.__value="EU",$t(g,g.__value),f.__value="ASIA",$t(f,f.__value),D(u,"class","svelte-eptab5"),s[2]===void 0&&xn(()=>s[14].call(u)),D(r,"class","controls"),D(U,"class","sortable-list"),D(B,"class","copy-preview"),D(H,"class","copy-button"),D(S,"class","container"),D(n,"class","page-container"),D(Ct,"rel","stylesheet"),D(Ct,"href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0")},m(N,X){K(N,t,X),K(N,e,X),K(N,n,X),y(n,r),y(r,i);for(let I=0;I<R.length;I+=1)R[I]&&R[I].m(i,null);y(r,o);for(let I=0;I<tt.length;I+=1)tt[I]&&tt[I].m(r,null);y(r,a),y(r,l),$t(l,s[1]),y(r,c),y(r,u),y(u,d),y(u,h),y(u,g),y(u,f),js(u,s[2],!0),y(r,m),y(r,T),y(n,b),y(n,S),y(S,U);for(let I=0;I<C.length;I+=1)C[I]&&C[I].m(U,null);y(S,z),y(S,B),y(B,F),y(S,rt),y(S,H),K(N,ut,X),K(N,Ct,X),A||(V=[Z(l,"input",s[13]),Z(u,"change",s[14]),Z(T,"click",s[8]),Ur(nt=fi.call(null,U,{items:s[0],flipDurationMs:_s})),Z(U,"consider",s[5]),Z(U,"finalize",s[6]),Z(H,"click",s[10])],A=!0)},p(N,[X]){if(X&144){E=kt(N[4]);let I;for(I=0;I<E.length;I+=1){const Re=Dr(N,E,I);R[I]?R[I].p(Re,X):(R[I]=Rr(Re),R[I].c(),R[I].m(i,null))}for(;I<R.length;I+=1)R[I].d(1);R.length=E.length}if(X&144){Xt=kt(N[4]);let I;for(I=0;I<Xt.length;I+=1){const Re=kr(N,Xt,I);tt[I]?tt[I].p(Re,X):(tt[I]=Lr(Re),tt[I].c(),tt[I].m(r,a))}for(;I<tt.length;I+=1)tt[I].d(1);tt.length=Xt.length}if(X&2&&l.value!==N[1]&&$t(l,N[1]),X&4&&js(u,N[2]),X&513){ft=kt(N[0]);for(let I=0;I<C.length;I+=1)C[I].r();C=Wr(C,X,Nt,1,N,ft,st,U,jr,Pr,null,wr);for(let I=0;I<C.length;I+=1)C[I].a()}nt&&we(nt.update)&&X&1&&nt.update.call(null,{items:N[0],flipDurationMs:_s}),X&8&&Ze(F,N[3])},i:at,o:at,d(N){N&&(q(t),q(e),q(n),q(ut),q(Ct)),pn(R,N),pn(tt,N);for(let X=0;X<C.length;X+=1)C[X].d();A=!1,Pt(V)}}}const _s=300;function Ol(s,t,e){let n=[{id:1,name:"Mascot NA"},{id:2,name:"or"},{id:3,name:"Mascot EU"}];const r=["(",")","or"];let i="",o="",a;const l=C=>{e(0,n=C.detail.items)},c=C=>{e(0,n=C.detail.items),f()},u=C=>{const st=n.length?Math.max(...n.map(nt=>nt.id))+1:1;e(0,n=[...n,{id:st,name:C}]),f()},d=()=>{if(i.trim()===""){alert("Cannot add player with no name.");return}if(o.trim()===""){alert("Cannot add player with no region");return}if(!hl(i)){alert("Invalid player name. Player names are between 3 and 24 characters long and contain only letters, numbers, underscores, and dashes.");return}u(`${i} ${o}`),e(1,i="")},h=C=>{e(0,n=n.filter((st,nt)=>nt!==C)),f()},g=()=>{navigator.clipboard.writeText(a),console.log(a)},f=()=>{try{e(3,a=qi(n.map(C=>C.name),jn.VOTE))}catch(C){e(3,a=C.message)}};Gr(()=>f());const m=C=>u(C),T=C=>u(C);function b(){i=this.value,e(1,i)}function S(){o=no(this),e(2,o)}return[n,i,o,a,r,l,c,u,d,h,g,m,T,b,S,C=>h(C)]}class wl extends tn{constructor(t){super(),Qe(this,t,Ol,bl,ke,{})}}function kl(s){let t,e;return t=new wl({}),{c(){Ln(t.$$.fragment)},m(n,r){Xe(t,n,r),e=!0},i(n){e||(Ht(t.$$.fragment,n),e=!0)},o(n){ee(t.$$.fragment,n),e=!1},d(n){Je(t,n)}}}function Dl(s){let t,e;return t=new Cl({}),{c(){Ln(t.$$.fragment)},m(n,r){Xe(t,n,r),e=!0},i(n){e||(Ht(t.$$.fragment,n),e=!0)},o(n){ee(t.$$.fragment,n),e=!1},d(n){Je(t,n)}}}function Rl(s){let t,e,n,r,i,o,a,l,c,u,d;const h=[Dl,kl],g=[];function f(m,T){return m[0]==="clan-events"?0:m[0]==="vote-events"?1:-1}return~(a=f(s))&&(l=g[a]=h[a](s)),{c(){t=k("div"),e=k("div"),n=k("button"),n.textContent="Go to Clan Events",r=G(),i=k("button"),i.textContent="Go to Vote Events",o=G(),l&&l.c(),D(n,"class","svelte-1bn8ryc"),D(i,"class","svelte-1bn8ryc"),D(e,"class","navbar svelte-1bn8ryc"),D(t,"class","main-container svelte-1bn8ryc")},m(m,T){K(m,t,T),y(t,e),y(e,n),y(e,r),y(e,i),y(t,o),~a&&g[a].m(t,null),c=!0,u||(d=[Z(n,"click",s[2]),Z(i,"click",s[3])],u=!0)},p(m,[T]){let b=a;a=f(m),a!==b&&(l&&(Yr(),ee(g[b],1,1,()=>{g[b]=null}),Kr()),~a?(l=g[a],l||(l=g[a]=h[a](m),l.c()),Ht(l,1),l.m(t,null)):l=null)},i(m){c||(Ht(l),c=!0)},o(m){ee(l),c=!1},d(m){m&&q(t),~a&&g[a].d(),u=!1,Pt(d)}}}function Ll(s,t,e){let n;const r=Zr("home");return Mr(s,r,a=>e(0,n=a)),[n,r,()=>r.set("clan-events"),()=>r.set("vote-events")]}class Pl extends tn{constructor(t){super(),Qe(this,t,Ll,Rl,ke,{})}}new Pl({target:document.getElementById("app")});
